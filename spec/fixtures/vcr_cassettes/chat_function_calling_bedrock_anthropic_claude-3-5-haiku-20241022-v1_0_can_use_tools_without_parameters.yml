---
http_interactions:
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":"What''s
        the best language to learn?"}],"temperature":0.7,"max_tokens":4096,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[]}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.0
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250418T183534Z
      X-Amz-Content-Sha256:
      - 5470b3b9e786d362a84d10e00f2ca7de6f684b36347b98361f45534636f69c1a
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250418/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=78560bd64ec0e0bf7af20b5ecf1e635ce422df21acb8b2224d59bd337ddf3a49
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Fri, 18 Apr 2025 18:35:40 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '476'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 7580259f-0f9f-4a7f-bb01-44b4925ecc32
      X-Amzn-Bedrock-Invocation-Latency:
      - '4989'
      X-Amzn-Bedrock-Output-Token-Count:
      - '59'
      X-Amzn-Bedrock-Input-Token-Count:
      - '327'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_01MK3HMVBeXccunxoPdhcpHQ","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"I''ll
        help you find out by using the best_language_to_learn tool."},{"type":"tool_use","id":"toolu_bdrk_01PqTdAgrD2AYsbwnDkyzFFv","name":"best_language_to_learn","input":{}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":327,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":59}}'
  recorded_at: Fri, 18 Apr 2025 18:35:40 GMT
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":"What''s
        the best language to learn?"},{"role":"assistant","content":[{"type":"text","text":"I''ll
        help you find out by using the best_language_to_learn tool."},{"type":"tool_use","id":"toolu_bdrk_01PqTdAgrD2AYsbwnDkyzFFv","name":"best_language_to_learn","input":{}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_bdrk_01PqTdAgrD2AYsbwnDkyzFFv","content":"Ruby"}]}],"temperature":0.7,"max_tokens":4096,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[]}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.0
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250418T183540Z
      X-Amz-Content-Sha256:
      - feb0e40a1188d51f717de8130a91b6f1834bc53e4fbd2de7ff80738d9bb27fb2
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250418/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=53157a836502384aebac7303d082f71ed3167472630e4af02dee3cbfeaa1bbea
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Fri, 18 Apr 2025 18:35:46 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '1050'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 856adab0-5a9c-4953-8a98-3aae5a2a6861
      X-Amzn-Bedrock-Invocation-Latency:
      - '5695'
      X-Amzn-Bedrock-Output-Token-Count:
      - '169'
      X-Amzn-Bedrock-Input-Token-Count:
      - '398'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_01PyMz9UfwkmdWhtdAeJkt5t","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"The
        tool suggests that Ruby is the best language to learn! Ruby is a dynamic,
        object-oriented programming language known for its simplicity and readability.
        It''s particularly popular for web development, especially with the Ruby on
        Rails framework. \n\nSome reasons why Ruby might be a great language to learn
        include:\n1. Beginner-friendly syntax that''s easy to read and write\n2. Strong
        community support\n3. Versatile applications in web development\n4. Elegant
        and productive programming style\n\nHowever, the \"best\" language can depend
        on your specific goals, such as:\n- Web development\n- Data science\n- Mobile
        app development\n- Machine learning\n- Career objectives\n\nWould you like
        to know more about why Ruby is recommended or discuss how it might fit your
        specific programming interests?"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":398,"output_tokens":169}}'
  recorded_at: Fri, 18 Apr 2025 18:35:46 GMT
recorded_with: VCR 6.3.1
