---
http_interactions:
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the best language to learn?"}]}],"max_tokens":4096,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[],"additionalProperties":false,"strict":true}}]}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20251030T134123Z
      X-Amz-Content-Sha256:
      - 91acb3ea1a62ddaa2720d3cc06875ae3116a3b1ff8900cfe900aa165d1ccd609
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20251030/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=4c9d98db762f85c6b0ed8307490a4ac44da2cb70eb1f04d46616b2ec31116f0e
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 30 Oct 2025 13:41:25 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '476'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 9a3ecddd-bd41-4939-adfa-91dad08ae5c4
      X-Amzn-Bedrock-Invocation-Latency:
      - '1574'
      X-Amzn-Bedrock-Output-Token-Count:
      - '56'
      X-Amzn-Bedrock-Input-Token-Count:
      - '339'
    body:
      encoding: UTF-8
      string: '{"model":"claude-3-5-haiku-20241022","id":"msg_bdrk_017aNjdt2oSynVzuzCdLBWYp","type":"message","role":"assistant","content":[{"type":"text","text":"I''ll
        help you find out by using the best language to learn tool."},{"type":"tool_use","id":"toolu_bdrk_01XdQyzsuvcETMx83ecJfLmK","name":"best_language_to_learn","input":{}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":339,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":56}}'
  recorded_at: Thu, 30 Oct 2025 13:41:25 GMT
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the best language to learn?"}]},{"role":"assistant","content":[{"type":"text","text":"I''ll
        help you find out by using the best language to learn tool."},{"type":"tool_use","id":"toolu_bdrk_01XdQyzsuvcETMx83ecJfLmK","name":"best_language_to_learn","input":{}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_bdrk_01XdQyzsuvcETMx83ecJfLmK","content":[{"type":"text","text":"Ruby"}]}]}],"max_tokens":4096,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[],"additionalProperties":false,"strict":true}}]}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20251030T134125Z
      X-Amz-Content-Sha256:
      - 2ba227184d1fbccd58563c528beb8a7fe3c07d44e250c2c959b0e1433afca395
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20251030/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=342b326863c0c19b2276d617084ee63f4455ef7f819ab96935df98d9affad1f5
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 30 Oct 2025 13:41:30 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '1180'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - fa18cda5-e143-4c77-8e71-baae39ef46a5
      X-Amzn-Bedrock-Invocation-Latency:
      - '5043'
      X-Amzn-Bedrock-Output-Token-Count:
      - '188'
      X-Amzn-Bedrock-Input-Token-Count:
      - '407'
    body:
      encoding: UTF-8
      string: '{"model":"claude-3-5-haiku-20241022","id":"msg_bdrk_01MPJJscNeBtmrbhwXymZ9T1","type":"message","role":"assistant","content":[{"type":"text","text":"The
        tool suggests Ruby as the best language to learn! Ruby is a dynamic, object-oriented
        programming language known for its simplicity and readability. It''s particularly
        popular for web development, especially with the Ruby on Rails framework.
        \n\nSome reasons why Ruby might be a great language to learn:\n1. Beginner-friendly
        syntax that''s easy to read and write\n2. Strong community and support\n3.
        Versatile for web development, scripting, and automation\n4. Used by many
        tech companies\n5. Emphasizes developer productivity and enjoyment\n\nOf course,
        the \"best\" language can depend on your specific goals, such as web development,
        data science, mobile apps, or other programming areas. But Ruby is an excellent
        choice for many beginners and experienced programmers alike.\n\nWould you
        like to know more about Ruby or discuss how it might fit your programming
        goals?"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":407,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":188}}'
  recorded_at: Thu, 30 Oct 2025 13:41:31 GMT
recorded_with: VCR 6.3.1
