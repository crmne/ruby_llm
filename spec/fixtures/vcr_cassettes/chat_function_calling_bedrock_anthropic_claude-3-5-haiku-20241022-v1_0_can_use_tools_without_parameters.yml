---
http_interactions:
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the best language to learn?"}]}],"max_tokens":4096,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[]}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250921T144841Z
      X-Amz-Content-Sha256:
      - e8e2ab4c8354c7cef443fe07e51f718b7cb96b42d26a0444d3c8692bb4b23675
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250921/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=1338abfd02f3db5ab200219a301a9f355517e71373d1b859b0b8ef15ac0764ca
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 21 Sep 2025 14:48:42 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '490'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 4b9fb162-4c34-410d-b5e2-08389c3e759c
      X-Amzn-Bedrock-Invocation-Latency:
      - '1384'
      X-Amzn-Bedrock-Output-Token-Count:
      - '58'
      X-Amzn-Bedrock-Input-Token-Count:
      - '327'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_01JdXbn3RYyLZRoYprxWNfZm","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"I''ll
        help you find out the best language to learn by using the available tool."},{"type":"tool_use","id":"toolu_bdrk_01Tq4raA788Jv6t7UceFe3Gf","name":"best_language_to_learn","input":{}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":327,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":58}}'
  recorded_at: Sun, 21 Sep 2025 14:48:43 GMT
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the best language to learn?"}]},{"role":"assistant","content":[{"type":"text","text":"I''ll
        help you find out the best language to learn by using the available tool."},{"type":"tool_use","id":"toolu_bdrk_01Tq4raA788Jv6t7UceFe3Gf","name":"best_language_to_learn","input":{}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_bdrk_01Tq4raA788Jv6t7UceFe3Gf","content":[{"type":"text","text":"Ruby"}]}]}],"max_tokens":4096,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[]}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250921T144843Z
      X-Amz-Content-Sha256:
      - e95c79d76a71c4b5b02ec200f0dc1a92d995ea1f25ddcb0efd0d902aa4232756
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250921/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=acbd4675a63990d02e1acd1d68563d791f5a8b1d18feba70bf787a3e4710e6a0
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 21 Sep 2025 14:48:47 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '1135'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 76c6e27e-3981-4600-b6cc-5550286ac9e7
      X-Amzn-Bedrock-Invocation-Latency:
      - '3986'
      X-Amzn-Bedrock-Output-Token-Count:
      - '179'
      X-Amzn-Bedrock-Input-Token-Count:
      - '397'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_01CTPSVSwptgbDitkjYi2VwR","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"According
        to the tool, Ruby is the best language to learn right now! Ruby is a dynamic,
        object-oriented programming language known for its simplicity and readability.
        It''s particularly popular for web development, especially with the Ruby on
        Rails framework. \n\nHere are some reasons why Ruby might be a great language
        to learn:\n1. Easy to read and write syntax\n2. Strong community support\n3.
        Used in web development\n4. Versatile and beginner-friendly\n5. Good for scripting
        and automation\n\nOf course, the \"best\" language can depend on your specific
        goals, such as web development, data science, mobile apps, or other programming
        objectives. But Ruby is certainly a solid choice for many aspiring programmers.\n\nWould
        you like to know more about Ruby or discuss how it might fit into your programming
        learning journey?"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":397,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":179}}'
  recorded_at: Sun, 21 Sep 2025 14:48:47 GMT
recorded_with: VCR 6.3.1
