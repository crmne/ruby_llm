---
http_interactions:
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the best language to learn?"}]}],"max_tokens":4096,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[]}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250924T145826Z
      X-Amz-Content-Sha256:
      - e8e2ab4c8354c7cef443fe07e51f718b7cb96b42d26a0444d3c8692bb4b23675
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250924/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=3fd84870aa6ac65ae9732ecaeac38bce619b46aabc2cc6d67b85d9309a6ca0e9
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 24 Sep 2025 14:58:28 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '480'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - d400ccfd-0412-46f2-886d-40c13c6ca02e
      X-Amzn-Bedrock-Invocation-Latency:
      - '1405'
      X-Amzn-Bedrock-Output-Token-Count:
      - '59'
      X-Amzn-Bedrock-Input-Token-Count:
      - '327'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_013F8W4AkP8kgGF7vJFwdsdN","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"I''ll
        help you find out by using the best_language_to_learn function."},{"type":"tool_use","id":"toolu_bdrk_0111YNTmfdjxAF9fpb7qsaJ8","name":"best_language_to_learn","input":{}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":327,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":59}}'
  recorded_at: Wed, 24 Sep 2025 14:58:28 GMT
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the best language to learn?"}]},{"role":"assistant","content":[{"type":"text","text":"I''ll
        help you find out by using the best_language_to_learn function."},{"type":"tool_use","id":"toolu_bdrk_0111YNTmfdjxAF9fpb7qsaJ8","name":"best_language_to_learn","input":{}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_bdrk_0111YNTmfdjxAF9fpb7qsaJ8","content":[{"type":"text","text":"Ruby"}]}]}],"max_tokens":4096,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[]}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250924T145828Z
      X-Amz-Content-Sha256:
      - f6a10f54d2ab2db80321b135707659b4c2ec5f3338bacaddd3eedf8e88d5de82
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250924/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=5ed137a4ec9d5d697fe23e3423a7958c6c448c3c67f84f7733ef4a8c06a7e669
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 24 Sep 2025 14:58:32 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '1163'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 9d3ff089-dce2-4d15-a530-9f5fce1357f6
      X-Amzn-Bedrock-Invocation-Latency:
      - '3673'
      X-Amzn-Bedrock-Output-Token-Count:
      - '183'
      X-Amzn-Bedrock-Input-Token-Count:
      - '398'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_015nE1ZB8S3M5zUzUHRjdeGc","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"According
        to the tool, Ruby is the best language to learn! Ruby is a dynamic, object-oriented
        programming language known for its simplicity and readability. It''s particularly
        popular for web development, especially with the Ruby on Rails framework.
        \n\nSome reasons why Ruby might be a great language to learn:\n1. Clean and
        elegant syntax that''s easy to read and write\n2. Strong community and ecosystem\n3.
        Versatile - used in web development, scripting, and more\n4. Great for beginners
        due to its intuitive nature\n\nKeep in mind that the \"best\" language can
        depend on your specific goals, such as web development, data science, mobile
        apps, or game development. But Ruby is an excellent choice for many programming
        enthusiasts, especially those new to coding.\n\nWould you like to know more
        about Ruby or discuss your specific programming interests?"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":398,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":183}}'
  recorded_at: Wed, 24 Sep 2025 14:58:32 GMT
recorded_with: VCR 6.3.1
