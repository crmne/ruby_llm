---
http_interactions:
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":"What''s
        the best language to learn?"}],"temperature":0.7,"max_tokens":4096,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[]}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.0
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250423T131302Z
      X-Amz-Content-Sha256:
      - 5470b3b9e786d362a84d10e00f2ca7de6f684b36347b98361f45534636f69c1a
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250423/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=54b56168270d9e1905deaf5a86cff486dc2aef50995b0874f0587a10e0a88408
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 23 Apr 2025 13:13:04 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '476'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 05d7e958-75fe-4e2e-a541-d46be8b80915
      X-Amzn-Bedrock-Invocation-Latency:
      - '1237'
      X-Amzn-Bedrock-Output-Token-Count:
      - '59'
      X-Amzn-Bedrock-Input-Token-Count:
      - '327'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_017Shc6p48qy6aRRd4bHNEz5","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"I''ll
        help you find out by using the best_language_to_learn tool."},{"type":"tool_use","id":"toolu_bdrk_01QbnVjM5rkN7oYYE9m3pEkb","name":"best_language_to_learn","input":{}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":327,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":59}}'
  recorded_at: Wed, 23 Apr 2025 13:13:04 GMT
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":"What''s
        the best language to learn?"},{"role":"assistant","content":[{"type":"text","text":"I''ll
        help you find out by using the best_language_to_learn tool."},{"type":"tool_use","id":"toolu_bdrk_01QbnVjM5rkN7oYYE9m3pEkb","name":"best_language_to_learn","input":{}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_bdrk_01QbnVjM5rkN7oYYE9m3pEkb","content":"Ruby"}]}],"temperature":0.7,"max_tokens":4096,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[]}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.0
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250423T131304Z
      X-Amz-Content-Sha256:
      - b63730276a78567bf960f3616ed2be2d294bd124e3232cedc526757c47e829da
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250423/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=5ab0793cd8fa2625cf51beb280b3a4fb26f712a86f39c13b4c06e842808ad1e0
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 23 Apr 2025 13:13:08 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '1110'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 2ffe7096-147b-478d-96ee-0426fb3b1417
      X-Amzn-Bedrock-Invocation-Latency:
      - '3161'
      X-Amzn-Bedrock-Output-Token-Count:
      - '172'
      X-Amzn-Bedrock-Input-Token-Count:
      - '398'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_01WiCsznrdSLyE4rcT8pL3yQ","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"According
        to the tool, Ruby is the best language to learn! Ruby is a dynamic, object-oriented
        programming language known for its simplicity and readability. It''s particularly
        popular for web development, especially with the Ruby on Rails framework.
        \n\nSome reasons why Ruby might be a great language to learn include:\n1.
        Easy to read and write syntax\n2. Strong community support\n3. Great for web
        development\n4. Versatile and used in various domains like web applications,
        scripting, and automation\n\nHowever, the \"best\" language can depend on
        your specific goals, such as:\n- Web development\n- Data science\n- Mobile
        app development\n- Game development\n\nWould you like to know more about why
        Ruby might be a good choice for you, or are you interested in exploring other
        programming languages?"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":398,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":172}}'
  recorded_at: Wed, 23 Apr 2025 13:13:08 GMT
recorded_with: VCR 6.3.1
