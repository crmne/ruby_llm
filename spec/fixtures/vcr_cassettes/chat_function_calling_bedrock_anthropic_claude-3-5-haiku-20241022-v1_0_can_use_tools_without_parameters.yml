---
http_interactions:
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the best language to learn?"}]}],"temperature":0.7,"max_tokens":4096,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[]}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.2
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250717T100224Z
      X-Amz-Content-Sha256:
      - 7ad6bf230d3481dfb473d338473e820d5463416e67ca6bb59724de9bf7ad469d
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250717/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=5c729443dbe635473d5f6a5c1a46e32a8be837c435c90a9ed617a7ce39aedbee
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 17 Jul 2025 10:02:26 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '442'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 36de38e9-9be4-4105-ad97-f3a30a48ec19
      X-Amzn-Bedrock-Invocation-Latency:
      - '2007'
      X-Amzn-Bedrock-Output-Token-Count:
      - '63'
      X-Amzn-Bedrock-Input-Token-Count:
      - '327'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_01NBH6U4UZK6XUZTuMaj4ipp","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"I''ll
        help you find out by using the best_language_to_learn tool to get the recommendation."},{"type":"tool_use","id":"toolu_bdrk_01TwnnoH5jH4hrM7gKMjCXmL","name":"best_language_to_learn","input":{}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":327,"output_tokens":63}}'
  recorded_at: Thu, 17 Jul 2025 10:02:26 GMT
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the best language to learn?"}]},{"role":"assistant","content":[{"type":"text","text":"I''ll
        help you find out by using the best_language_to_learn tool to get the recommendation."},{"type":"tool_use","id":"toolu_bdrk_01TwnnoH5jH4hrM7gKMjCXmL","name":"best_language_to_learn","input":{}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_bdrk_01TwnnoH5jH4hrM7gKMjCXmL","content":"Ruby"}]}],"temperature":0.7,"max_tokens":4096,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[]}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.2
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250717T100226Z
      X-Amz-Content-Sha256:
      - c808fe6226d38b463db6cb51c69de884fc14dad23cc1e7c3a3e7106501a9525f
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250717/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=0a2869188baae89c67b730ea49507703ecacbf511c2bd5711e047621c50cd2dd
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 17 Jul 2025 10:02:32 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '924'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - b87e6a69-20e3-47d8-978f-3964cb02bba2
      X-Amzn-Bedrock-Invocation-Latency:
      - '4699'
      X-Amzn-Bedrock-Output-Token-Count:
      - '135'
      X-Amzn-Bedrock-Input-Token-Count:
      - '402'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_01AvSBSQy13sAGs8FvSdTZDF","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"According
        to the tool, Ruby is the best language to learn right now! Ruby is a dynamic,
        object-oriented programming language known for its simplicity and readability.
        It''s particularly popular for web development, especially with the Ruby on
        Rails framework.\n\nSome reasons why Ruby might be a great language to learn:\n1.
        Easy to read and write syntax\n2. Strong community support\n3. Great for web
        development\n4. Used in many startups and tech companies\n5. Good for beginners
        due to its intuitive nature\n\nWould you like to know more about Ruby or explore
        why it might be a good choice for learning programming?"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":402,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":135}}'
  recorded_at: Thu, 17 Jul 2025 10:02:32 GMT
recorded_with: VCR 6.3.1
