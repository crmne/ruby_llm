---
http_interactions:
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the best language to learn?"}]}],"temperature":0.7,"max_tokens":4096,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[]}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.1
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250512T134318Z
      X-Amz-Content-Sha256:
      - 7ad6bf230d3481dfb473d338473e820d5463416e67ca6bb59724de9bf7ad469d
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250512/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=f17bdbb059b66eae9640c70a025d0c0a66d91dabdc6af9169f0ce72005d4624a
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 12 May 2025 13:43:20 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '432'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - c95130d8-62c8-41d7-ab2b-3cc99e8502c7
      X-Amzn-Bedrock-Invocation-Latency:
      - '1550'
      X-Amzn-Bedrock-Output-Token-Count:
      - '58'
      X-Amzn-Bedrock-Input-Token-Count:
      - '327'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_01JsEkGhbKVPjMad2b7ZCP4q","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"Let
        me help you find out the best language to learn by using the available tool."},{"type":"tool_use","id":"toolu_bdrk_018bLawp7xzRL5knXorzGQog","name":"best_language_to_learn","input":{}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":327,"output_tokens":58}}'
  recorded_at: Mon, 12 May 2025 13:43:20 GMT
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the best language to learn?"}]},{"role":"assistant","content":[{"type":"text","text":"Let
        me help you find out the best language to learn by using the available tool."},{"type":"tool_use","id":"toolu_bdrk_018bLawp7xzRL5knXorzGQog","name":"best_language_to_learn","input":{}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_bdrk_018bLawp7xzRL5knXorzGQog","content":"Ruby"}]}],"temperature":0.7,"max_tokens":4096,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[]}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.1
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250512T134320Z
      X-Amz-Content-Sha256:
      - cbb4c302740af6da00a1ac7317f0ce8e4503ea59b698f11214c67b38a2c2e002
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250512/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=33b1b72a9748f140a66016ded20f285d7af470115912e3d2d57b8c59f4237eb2
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 12 May 2025 13:43:25 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '1098'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - d7530616-3f30-46fe-bbff-2903f07fc7ad
      X-Amzn-Bedrock-Invocation-Latency:
      - '5087'
      X-Amzn-Bedrock-Output-Token-Count:
      - '183'
      X-Amzn-Bedrock-Input-Token-Count:
      - '397'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_01EKuXTkZWMDd9FiHQaiFLv1","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"According
        to the tool, Ruby is the best language to learn! Ruby is a dynamic, object-oriented
        programming language known for its simplicity and readability. It''s particularly
        popular for web development, especially with the Ruby on Rails framework.
        \n\nSome reasons why Ruby might be a great language to learn include:\n1.
        Easy to read and write syntax\n2. Strong community support\n3. Versatile use
        in web development\n4. Great for beginners due to its intuitive nature\n5.
        Used in various domains like web applications, scripting, and automation\n\nHowever,
        the \"best\" language can depend on your specific goals, such as:\n- Web development\n-
        Data science\n- Mobile app development\n- Machine learning\n- Career objectives\n\nWould
        you like to know more about why Ruby is recommended or discuss how it might
        fit your personal learning objectives?"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":397,"output_tokens":183}}'
  recorded_at: Mon, 12 May 2025 13:43:25 GMT
recorded_with: VCR 6.3.1
