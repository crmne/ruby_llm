---
http_interactions:
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the best language to learn?"}]}],"max_tokens":4096,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[]}}],"temperature":0.7}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250801T105353Z
      X-Amz-Content-Sha256:
      - 38669c6c61155f5eb0fee0f866fd7b16310f9058e81256dc4d9fe762b3a48ae2
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250801/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=a4fb9d13304e97d800878a4f2a6afeecbaec4c5a7782cc2af392b67b28700336
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Fri, 01 Aug 2025 10:53:55 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '490'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 01313d71-3686-4249-84ce-d7b08ab97bec
      X-Amzn-Bedrock-Invocation-Latency:
      - '1347'
      X-Amzn-Bedrock-Output-Token-Count:
      - '58'
      X-Amzn-Bedrock-Input-Token-Count:
      - '327'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_01DaYUE3VzfYJ8KW3vzfHgD5","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"I''ll
        help you find out the best language to learn by using the available tool."},{"type":"tool_use","id":"toolu_bdrk_013YKbjzejNnhjVG29mgvMG2","name":"best_language_to_learn","input":{}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":327,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":58}}'
  recorded_at: Fri, 01 Aug 2025 10:53:55 GMT
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the best language to learn?"}]},{"role":"assistant","content":[{"type":"text","text":"I''ll
        help you find out the best language to learn by using the available tool."},{"type":"tool_use","id":"toolu_bdrk_013YKbjzejNnhjVG29mgvMG2","name":"best_language_to_learn","input":{}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_bdrk_013YKbjzejNnhjVG29mgvMG2","content":"Ruby"}]}],"max_tokens":4096,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[]}}],"temperature":0.7}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250801T105355Z
      X-Amz-Content-Sha256:
      - 62694c3d8137f995dad4fdaeafdb420e56db0d70ff5e2154a3bb7cbbd0b1f48c
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250801/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=4afd91d8a3e161885a1aa603e416cb07e8a853d42c69e59ec520984b0e509113
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Fri, 01 Aug 2025 10:53:59 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '1236'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - a37f9301-866d-4fab-8917-38d28d53b964
      X-Amzn-Bedrock-Invocation-Latency:
      - '3792'
      X-Amzn-Bedrock-Output-Token-Count:
      - '199'
      X-Amzn-Bedrock-Input-Token-Count:
      - '397'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_01CQnhPrDwghFJVP3UsateKe","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"According
        to the tool, Ruby is the best language to learn! \n\nRuby is a dynamic, object-oriented
        programming language known for its simplicity and readability. It''s particularly
        popular for web development, especially with the Ruby on Rails framework.
        Ruby is often praised for its elegant syntax that makes coding more intuitive
        and enjoyable.\n\nSome reasons why Ruby might be considered the best language
        to learn include:\n1. Easy to read and write\n2. Great for web development\n3.
        Strong community support\n4. Used in many startups and tech companies\n5.
        Good for beginners due to its straightforward syntax\n\nOf course, the \"best\"
        language can depend on your specific goals, such as web development, data
        science, mobile app development, etc. But Ruby is certainly an excellent choice
        for many aspiring programmers.\n\nWould you like to know more about Ruby or
        discuss why it might be a good language for you to learn?"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":397,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":199}}'
  recorded_at: Fri, 01 Aug 2025 10:54:00 GMT
recorded_with: VCR 6.3.1
