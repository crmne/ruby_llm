---
http_interactions:
  - request:
      method: post
      uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/converse
      body:
        encoding: UTF-8
        string: '{"messages":[{"role":"user","content":[{"text":"Who was Ruby''s creator?"}]}],"inferenceConfig":{"maxTokens":4096}}'
      headers:
        User-Agent:
          - Faraday v2.13.4
        Host:
          - bedrock-runtime.<AWS_REGION>.amazonaws.com
        X-Amz-Date:
          - 20250911T041318Z
        X-Amz-Content-Sha256:
          - e3548d9b4027c99037089d359249884e993f2fc9d2887ac3845ac0808d6a4511
        Authorization:
          - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250911/<AWS_REGION>/bedrock/aws4_request,
            SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=ef85c769679923dc940b6dd71261ae6aeb051dc4720c9636ab07649740b5366e
        Content-Type:
          - application/json
        Accept:
          - application/json
        Accept-Encoding:
          - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
    response:
      status:
        code: 200
        message: OK
      headers:
        Date:
          - Thu, 11 Sep 2025 04:13:21 GMT
        Content-Type:
          - application/json
        Content-Length:
          - "623"
        Connection:
          - keep-alive
        X-Amzn-Requestid:
          - 7eb364cc-b33e-44c1-b597-137c9bbcfd3c
      body:
        encoding: UTF-8
        string:
          '{"metrics":{"latencyMs":1867},"output":{"message":{"content":[{"text":"Ruby
          was created by Yukihiro Matsumoto (often referred to as \"Matz\") in Japan.
          He first developed Ruby in the mid-1990s, with the first public release in
          1995. Matz designed Ruby with the goal of creating a programming language
          that was more human-friendly and enjoyable to use, emphasizing programmer
          happiness and productivity."}],"role":"assistant"}},"stopReason":"end_turn","usage":{"cacheReadInputTokenCount":0,"cacheReadInputTokens":0,"cacheWriteInputTokenCount":0,"cacheWriteInputTokens":0,"inputTokens":13,"outputTokens":82,"totalTokens":95}}'
    recorded_at: Thu, 11 Sep 2025 04:13:21 GMT
  - request:
      method: post
      uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/converse
      body:
        encoding: UTF-8
        string:
          '{"messages":[{"role":"user","content":[{"text":"Who was Ruby''s creator?"}]},{"role":"assistant","content":[{"text":"Ruby
          was created by Yukihiro Matsumoto (often referred to as \"Matz\") in Japan.
          He first developed Ruby in the mid-1990s, with the first public release in
          1995. Matz designed Ruby with the goal of creating a programming language
          that was more human-friendly and enjoyable to use, emphasizing programmer
          happiness and productivity."}]},{"role":"user","content":[{"text":"What year
          did he create Ruby?"}]}],"inferenceConfig":{"maxTokens":4096}}'
      headers:
        User-Agent:
          - Faraday v2.13.4
        Host:
          - bedrock-runtime.<AWS_REGION>.amazonaws.com
        X-Amz-Date:
          - 20250911T041321Z
        X-Amz-Content-Sha256:
          - a54c5afd546340189acc570c7269023fd56d0d68ae5ab992bac726bd9ff198a8
        Authorization:
          - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250911/<AWS_REGION>/bedrock/aws4_request,
            SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=0098050bd29c7c8ea32e1010d19b21f2599b4bc3b22bd138215747a5fc437448
        Content-Type:
          - application/json
        Accept:
          - application/json
        Accept-Encoding:
          - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
    response:
      status:
        code: 200
        message: OK
      headers:
        Date:
          - Thu, 11 Sep 2025 04:13:22 GMT
        Content-Type:
          - application/json
        Content-Length:
          - "427"
        Connection:
          - keep-alive
        X-Amzn-Requestid:
          - 43ed123b-ffe8-4eca-93fb-ec8fef35ecf1
      body:
        encoding: UTF-8
        string:
          '{"metrics":{"latencyMs":966},"output":{"message":{"content":[{"text":"Yukihiro
          Matsumoto created Ruby in 1995. Specifically, he first released Ruby publicly
          in 1995 as an open-source programming language."}],"role":"assistant"}},"stopReason":"end_turn","usage":{"cacheReadInputTokenCount":0,"cacheReadInputTokens":0,"cacheWriteInputTokenCount":0,"cacheWriteInputTokens":0,"inputTokens":105,"outputTokens":39,"totalTokens":144}}'
    recorded_at: Thu, 11 Sep 2025 04:13:22 GMT
recorded_with: VCR 6.3.1
