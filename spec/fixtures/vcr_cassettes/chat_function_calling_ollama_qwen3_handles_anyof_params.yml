---
http_interactions:
- request:
    method: post
    uri: "<OLLAMA_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":"Call the any-of
        params tool for task \"Review PR\" with status \"pending\" and report the
        result."}],"stream":false,"tools":[{"type":"function","function":{"name":"any_of_params","description":"Uses
        params DSL any_of support","parameters":{"type":"object","properties":{"task":{"type":"string","description":"Task
        description"},"status":{"description":"Optional task status","anyOf":[{"type":"string","enum":["pending","done"]},{"type":"null"}]}},"required":["task","status"],"additionalProperties":false,"strict":true}}}],"enable_thinking":false}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Date:
      - Fri, 09 Jan 2026 16:04:46 GMT
      Content-Length:
      - '1392'
    body:
      encoding: UTF-8
      string: '{"id":"chatcmpl-731","object":"chat.completion","created":1767974686,"model":"qwen3","system_fingerprint":"fp_ollama","choices":[{"index":0,"message":{"role":"assistant","content":"","reasoning":"Okay,
        let''s see. The user wants me to call the any_of_params function for the task
        \"Review PR\" with status \"pending\" and report the result.\n\nFirst, I need
        to check the function''s parameters. The function requires \"task\" and \"status\".
        The status has an anyOf condition: it can be a string from the enum [\"pending\",
        \"done\"] or null. Since the user provided \"pending\", which is valid, that''s
        acceptable.\n\nSo, the arguments should be task: \"Review PR\" and status:
        \"pending\". I need to structure this into a JSON object. Let me make sure
        there are no typos. The function name is any_of_params. \n\nWait, the parameters
        are in a properties object, and both task and status are required. The status''s
        anyOf allows the enum values or null. Since the user specified \"pending\",
        which is in the enum, it''s valid. \n\nI think that''s all. Just need to format
        the tool_call correctly with the name and arguments.\n","tool_calls":[{"id":"call_sr0p2q1f","index":0,"type":"function","function":{"name":"any_of_params","arguments":"{\"status\":\"pending\",\"task\":\"Review
        PR\"}"}}]},"finish_reason":"tool_calls"}],"usage":{"prompt_tokens":193,"completion_tokens":242,"total_tokens":435}}

        '
  recorded_at: Fri, 09 Jan 2026 16:04:46 GMT
recorded_with: VCR 6.4.0
