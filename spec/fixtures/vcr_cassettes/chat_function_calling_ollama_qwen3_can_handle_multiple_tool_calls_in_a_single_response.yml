---
http_interactions:
- request:
    method: post
    uri: "<OLLAMA_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"system","content":"You must call
        the dice_roll tool exactly 3 times when asked to roll dice 3 times."},{"role":"user","content":"Roll
        the dice 3 times"}],"stream":false,"tools":[{"type":"function","function":{"name":"dice_roll","description":"Rolls
        a single six-sided die and returns the result","parameters":{"type":"object","properties":{},"required":[],"additionalProperties":false,"strict":true}}}]}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Date:
      - Fri, 09 Jan 2026 16:04:40 GMT
      Content-Length:
      - '1109'
    body:
      encoding: UTF-8
      string: '{"id":"chatcmpl-908","object":"chat.completion","created":1767974680,"model":"qwen3","system_fingerprint":"fp_ollama","choices":[{"index":0,"message":{"role":"assistant","content":"","reasoning":"Okay,
        the user wants me to roll the dice three times. Let me check the tools available.
        There''s a function called dice_roll that rolls a single six-sided die. Since
        they need it three times, I should call that function three separate times.
        Each call doesn''t require any parameters, so I''ll just make three individual
        tool calls. I need to make sure each is in the correct JSON format within
        the tool_call tags. Let me structure each one properly and ensure there are
        exactly three calls.\n","tool_calls":[{"id":"call_5olvmthc","index":0,"type":"function","function":{"name":"dice_roll","arguments":"{}"}},{"id":"call_0odez6yy","index":1,"type":"function","function":{"name":"dice_roll","arguments":"{}"}},{"id":"call_pvh9577c","index":2,"type":"function","function":{"name":"dice_roll","arguments":"{}"}}]},"finish_reason":"tool_calls"}],"usage":{"prompt_tokens":158,"completion_tokens":153,"total_tokens":311}}

        '
  recorded_at: Fri, 09 Jan 2026 16:04:40 GMT
- request:
    method: post
    uri: "<OLLAMA_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"system","content":"You must call
        the dice_roll tool exactly 3 times when asked to roll dice 3 times."},{"role":"user","content":"Roll
        the dice 3 times"},{"role":"assistant","content":"","tool_calls":[{"id":"call_5olvmthc","type":"function","function":{"name":"dice_roll","arguments":"{}"}},{"id":"call_0odez6yy","type":"function","function":{"name":"dice_roll","arguments":"{}"}},{"id":"call_pvh9577c","type":"function","function":{"name":"dice_roll","arguments":"{}"}}]},{"role":"tool","content":"{roll:
        1}","tool_call_id":"call_5olvmthc"},{"role":"tool","content":"{roll: 2}","tool_call_id":"call_0odez6yy"},{"role":"tool","content":"{roll:
        3}","tool_call_id":"call_pvh9577c"}],"stream":false,"tools":[{"type":"function","function":{"name":"dice_roll","description":"Rolls
        a single six-sided die and returns the result","parameters":{"type":"object","properties":{},"required":[],"additionalProperties":false,"strict":true}}}]}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Date:
      - Fri, 09 Jan 2026 16:04:42 GMT
      Content-Length:
      - '1062'
    body:
      encoding: UTF-8
      string: '{"id":"chatcmpl-708","object":"chat.completion","created":1767974682,"model":"qwen3","system_fingerprint":"fp_ollama","choices":[{"index":0,"message":{"role":"assistant","content":"The
        dice rolls resulted in: 1, 2, and 3.","reasoning":"Okay, the user asked to
        roll the dice three times, and I called the dice_roll function three times.
        Each time, the response was a roll value. The first roll was 1, then 2, then
        3. Now I need to present these results to the user in a clear way.\n\nLet
        me check if I should summarize the results or just list them. The user probably
        wants to know each outcome of the three rolls. So I''ll mention each roll
        in order. Maybe say something like \"The first roll was 1, the second was
        2, and the third was 3.\" That''s straightforward and answers the query accurately.
        No need for extra analysis since the user just wanted the results of three
        dice rolls. I should make sure the response is concise and matches what was
        requested.\n"},"finish_reason":"stop"}],"usage":{"prompt_tokens":244,"completion_tokens":184,"total_tokens":428}}

        '
  recorded_at: Fri, 09 Jan 2026 16:04:42 GMT
recorded_with: VCR 6.4.0
