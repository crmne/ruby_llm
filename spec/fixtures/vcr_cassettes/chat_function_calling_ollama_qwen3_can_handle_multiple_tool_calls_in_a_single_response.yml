---
http_interactions:
- request:
    method: post
    uri: "<OLLAMA_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"system","content":"You must call
        the dice_roll tool exactly 3 times when asked to roll dice 3 times."},{"role":"user","content":"Roll
        the dice 3 times"}],"stream":false,"tools":[{"type":"function","function":{"name":"dice_roll","description":"Rolls
        a single six-sided die and returns the result","parameters":{"type":"object","properties":{},"required":[]}}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Date:
      - Wed, 20 Aug 2025 15:53:50 GMT
      Content-Length:
      - '1075'
    body:
      encoding: UTF-8
      string: '{"id":"chatcmpl-410","object":"chat.completion","created":1755705230,"model":"qwen3","system_fingerprint":"fp_ollama","choices":[{"index":0,"message":{"role":"assistant","content":"\u003cthink\u003e\nOkay,
        the user wants me to roll the dice three times. Let me check the tools available.
        There''s a function called dice_roll that rolls a six-sided die. The user
        specified exactly three times, so I need to call that function three separate
        times. Each call doesn''t require any parameters, so I''ll just make three
        individual tool calls. I''ll make sure to format each one correctly within
        the XML tags. Let me start the first roll.\n\u003c/think\u003e\n\n","tool_calls":[{"id":"call_r512ca36","index":0,"type":"function","function":{"name":"dice_roll","arguments":"{}"}},{"id":"call_xsazjph6","index":1,"type":"function","function":{"name":"dice_roll","arguments":"{}"}},{"id":"call_kqc8ymee","index":2,"type":"function","function":{"name":"dice_roll","arguments":"{}"}}]},"finish_reason":"tool_calls"}],"usage":{"prompt_tokens":159,"completion_tokens":143,"total_tokens":302}}

        '
  recorded_at: Wed, 20 Aug 2025 15:53:50 GMT
- request:
    method: post
    uri: "<OLLAMA_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"system","content":"You must call
        the dice_roll tool exactly 3 times when asked to roll dice 3 times."},{"role":"user","content":"Roll
        the dice 3 times"},{"role":"assistant","content":"<think>\nOkay, the user
        wants me to roll the dice three times. Let me check the tools available. There''s
        a function called dice_roll that rolls a six-sided die. The user specified
        exactly three times, so I need to call that function three separate times.
        Each call doesn''t require any parameters, so I''ll just make three individual
        tool calls. I''ll make sure to format each one correctly within the XML tags.
        Let me start the first roll.\n</think>\n\n","tool_calls":[{"id":"call_r512ca36","type":"function","function":{"name":"dice_roll","arguments":"{}"}},{"id":"call_xsazjph6","type":"function","function":{"name":"dice_roll","arguments":"{}"}},{"id":"call_kqc8ymee","type":"function","function":{"name":"dice_roll","arguments":"{}"}}]},{"role":"tool","content":"{roll:
        1}","tool_call_id":"call_r512ca36"},{"role":"tool","content":"{roll: 2}","tool_call_id":"call_xsazjph6"},{"role":"tool","content":"{roll:
        3}","tool_call_id":"call_kqc8ymee"}],"stream":false,"tools":[{"type":"function","function":{"name":"dice_roll","description":"Rolls
        a single six-sided die and returns the result","parameters":{"type":"object","properties":{},"required":[]}}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Date:
      - Wed, 20 Aug 2025 15:53:51 GMT
      Content-Length:
      - '1079'
    body:
      encoding: UTF-8
      string: '{"id":"chatcmpl-631","object":"chat.completion","created":1755705231,"model":"qwen3","system_fingerprint":"fp_ollama","choices":[{"index":0,"message":{"role":"assistant","content":"\u003cthink\u003e\nOkay,
        the user asked to roll the dice three times, and I called the dice_roll function
        three times. Each response from the tool gave a roll result: 1, 2, and 3.
        Now I need to compile these results into a final answer. Let me check if all
        three rolls were successful. The first roll was 1, the second 2, and the third
        3. All three are valid numbers for a six-sided die. The user probably wants
        the sequence of rolls or the total? Wait, the original request was just to
        roll three times, so maybe they want each individual result listed. I should
        present each roll in order. Let me format that clearly. Also, make sure there''s
        no markdown, just plain text. Alright, the final answer should show each roll''s
        outcome.\n\u003c/think\u003e\n\nThe dice rolls resulted in: 1, 2, and 3."},"finish_reason":"stop"}],"usage":{"prompt_tokens":301,"completion_tokens":186,"total_tokens":487}}

        '
  recorded_at: Wed, 20 Aug 2025 15:53:51 GMT
recorded_with: VCR 6.3.1
