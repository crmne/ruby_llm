---
http_interactions:
- request:
    method: post
    uri: https://openrouter.ai/api/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"anthropic/claude-haiku-4.5","messages":[{"role":"user","content":"What''s
        the best language to learn?"}],"stream":false,"tools":[{"type":"function","function":{"name":"best_language_to_learn","description":"Gets
        the best language to learn","parameters":{"type":"object","properties":{},"required":[],"additionalProperties":false,"strict":true}}}]}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Authorization:
      - Bearer <OPENROUTER_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Jan 2026 15:42:34 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Vary:
      - Accept-Encoding
      Permissions-Policy:
      - payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com"
        "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")
      Referrer-Policy:
      - no-referrer, strict-origin-when-cross-origin
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: "\n         \n\n         \n{\"id\":\"gen-1768318953-qn4rAMWDfuUBTMIu0Glw\",\"provider\":\"Amazon
        Bedrock\",\"model\":\"anthropic/claude-haiku-4.5\",\"object\":\"chat.completion\",\"created\":1768318954,\"choices\":[{\"logprobs\":null,\"finish_reason\":\"tool_calls\",\"native_finish_reason\":\"tool_calls\",\"index\":0,\"message\":{\"role\":\"assistant\",\"content\":\"\",\"refusal\":null,\"reasoning\":null,\"tool_calls\":[{\"id\":\"toolu_bdrk_01J5m5kwkDyBQsK6RoQiX8Xw\",\"index\":0,\"type\":\"function\",\"function\":{\"name\":\"best_language_to_learn\",\"arguments\":\"\"}}]}}],\"usage\":{\"prompt_tokens\":571,\"completion_tokens\":41,\"total_tokens\":612,\"cost\":0.000776,\"is_byok\":false,\"prompt_tokens_details\":{\"cached_tokens\":0,\"cache_write_tokens\":0,\"audio_tokens\":0,\"video_tokens\":0},\"cost_details\":{\"upstream_inference_cost\":null,\"upstream_inference_prompt_cost\":0.000571,\"upstream_inference_completions_cost\":0.000205},\"completion_tokens_details\":{\"reasoning_tokens\":0,\"image_tokens\":0}}}"
  recorded_at: Tue, 13 Jan 2026 15:42:34 GMT
- request:
    method: post
    uri: https://openrouter.ai/api/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"anthropic/claude-haiku-4.5","messages":[{"role":"user","content":"What''s
        the best language to learn?"},{"role":"assistant","content":"","tool_calls":[{"id":"toolu_bdrk_01J5m5kwkDyBQsK6RoQiX8Xw","type":"function","function":{"name":"best_language_to_learn","arguments":"{}"}}]},{"role":"tool","content":"Ruby","tool_call_id":"toolu_bdrk_01J5m5kwkDyBQsK6RoQiX8Xw"}],"stream":false,"tools":[{"type":"function","function":{"name":"best_language_to_learn","description":"Gets
        the best language to learn","parameters":{"type":"object","properties":{},"required":[],"additionalProperties":false,"strict":true}}}]}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Authorization:
      - Bearer <OPENROUTER_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Jan 2026 15:42:36 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Vary:
      - Accept-Encoding
      Permissions-Policy:
      - payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com"
        "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")
      Referrer-Policy:
      - no-referrer, strict-origin-when-cross-origin
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: "\n         \n\n         \n\n         \n\n         \n{\"id\":\"gen-1768318955-RoYRDEZkIPUSZZkuXT9F\",\"provider\":\"Amazon
        Bedrock\",\"model\":\"anthropic/claude-haiku-4.5\",\"object\":\"chat.completion\",\"created\":1768318955,\"choices\":[{\"logprobs\":null,\"finish_reason\":\"stop\",\"native_finish_reason\":\"stop\",\"index\":0,\"message\":{\"role\":\"assistant\",\"content\":\"According
        to the function, **Ruby** is the best language to learn!\\n\\nRuby is indeed
        a great choice for many reasons:\\n\\n- **Beginner-friendly**: It has clean,
        readable syntax that's easy to understand and learn\\n- **Productive**: You
        can build applications quickly with less boilerplate code\\n- **Versatile**:
        Great for web development (with Rails framework), scripting, automation, and
        more\\n- **Strong community**: Excellent documentation, libraries, and community
        support\\n- **Fun to learn**: Many people find Ruby enjoyable to work with
        due to its expressive syntax\\n\\nIf you're interested in learning Ruby, I'd
        recommend starting with the basics of programming concepts and then exploring
        the Ruby on Rails framework for web development!\",\"refusal\":null,\"reasoning\":null}}],\"usage\":{\"prompt_tokens\":625,\"completion_tokens\":159,\"total_tokens\":784,\"cost\":0.00142,\"is_byok\":false,\"prompt_tokens_details\":{\"cached_tokens\":0,\"cache_write_tokens\":0,\"audio_tokens\":0,\"video_tokens\":0},\"cost_details\":{\"upstream_inference_cost\":null,\"upstream_inference_prompt_cost\":0.000625,\"upstream_inference_completions_cost\":0.000795},\"completion_tokens_details\":{\"reasoning_tokens\":0,\"image_tokens\":0}}}"
  recorded_at: Tue, 13 Jan 2026 15:42:37 GMT
recorded_with: VCR 6.4.0
