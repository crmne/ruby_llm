---
http_interactions:
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/us.anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]}],"temperature":0.7,"max_tokens":4096}'
    headers:
      User-Agent:
      - Faraday v2.13.1
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250615T203621Z
      X-Amz-Content-Sha256:
      - f6869e22081f6306c726e679cddeba013e72d195b54bb1557e1d87f342dffda7
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250615/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=f14f2a5e5bbb9571848b7f7c23e275c8132d0291c0ea9f678c2e856bd0e78ea5
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 15 Jun 2025 20:36:22 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '530'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - f1edbea3-b85a-48a4-ada6-70b12c40b0fa
      X-Amzn-Bedrock-Invocation-Latency:
      - '1589'
      X-Amzn-Bedrock-Output-Token-Count:
      - '58'
      X-Amzn-Bedrock-Input-Token-Count:
      - '36'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_01YGELDKktgYqpZL7R9QMLzD","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"Based
        on the provided file details, the file ''ruby.txt'' contains the text:\n\n\"Ruby
        is the best.\"\n\nThe file is a plain text file (mime type ''text/plain'')
        with a simple, short statement about the Ruby programming language."}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":36,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":58}}'
  recorded_at: Sun, 15 Jun 2025 20:36:22 GMT
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/us.anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]},{"role":"assistant","content":[{"type":"text","text":"Based
        on the provided file details, the file ''ruby.txt'' contains the text:\n\n\"Ruby
        is the best.\"\n\nThe file is a plain text file (mime type ''text/plain'')
        with a simple, short statement about the Ruby programming language."}]},{"role":"user","content":[{"type":"text","text":"and
        in this one?"},{"type":"text","text":"<file name=''ruby.xml'' mime_type=''application/xml''><truism>Ruby
        is the best</truism></file>"}]}],"temperature":0.7,"max_tokens":4096}'
    headers:
      User-Agent:
      - Faraday v2.13.1
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250615T203622Z
      X-Amz-Content-Sha256:
      - d6c0672ceb36a813fa77adfc4659779641df4ffeb5f58753160d876f9c85f82a
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250615/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=fc6d4de9e4912abd7dca738cd519a22f6cd173cdf896adc1a849bad562b5f69a
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 15 Jun 2025 20:36:25 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '621'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 86447c12-9f41-42be-9941-e956fc2b8f33
      X-Amzn-Bedrock-Invocation-Latency:
      - '2083'
      X-Amzn-Bedrock-Output-Token-Count:
      - '89'
      X-Amzn-Bedrock-Input-Token-Count:
      - '132'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_01Y693ymfhNE3oCfjUzzqN2d","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"In
        the file ''ruby.xml'', there is an XML document with the following content:\n\n```xml\n<truism>Ruby
        is the best</truism>\n```\n\nThis is a simple XML file with a custom XML tag
        `<truism>` that contains the text \"Ruby is the best\". The file''s MIME type
        is ''application/xml'', which indicates it is an XML document."}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":132,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":89}}'
  recorded_at: Sun, 15 Jun 2025 20:36:25 GMT
recorded_with: VCR 6.3.1
