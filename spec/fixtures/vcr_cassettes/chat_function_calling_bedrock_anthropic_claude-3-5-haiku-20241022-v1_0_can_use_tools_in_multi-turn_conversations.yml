---
http_interactions:
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":"What''s
        the weather in Berlin? (52.5200, 13.4050)"}],"temperature":0.7,"max_tokens":4096,"tools":[{"name":"weather","description":"Gets
        current weather for a location","input_schema":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"]}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.0
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250417T143945Z
      X-Amz-Content-Sha256:
      - 175fe07b52825d214f2938f4dcfb11a1099924121ee86d46d6b027b10fa92fa4
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250417/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=540ac81c1c81075412e73b6018aee8400342606482b9ada29ba78f558d0d8031
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 17 Apr 2025 14:39:48 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '516'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 655d58fb-0f60-4587-97b7-064b2efa44b2
      X-Amzn-Bedrock-Invocation-Latency:
      - '1648'
      X-Amzn-Bedrock-Output-Token-Count:
      - '90'
      X-Amzn-Bedrock-Input-Token-Count:
      - '389'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_01Wep9UTB442hQD79cTk4a22","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"I''ll
        help you check the weather in Berlin using the coordinates you provided."},{"type":"tool_use","id":"toolu_bdrk_01SyT545LKMK68nGwawe9u6r","name":"weather","input":{"latitude":"52.5200","longitude":"13.4050"}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":389,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":90}}'
  recorded_at: Thu, 17 Apr 2025 14:39:48 GMT
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":"What''s
        the weather in Berlin? (52.5200, 13.4050)"},{"role":"assistant","content":[{"type":"text","text":"I''ll
        help you check the weather in Berlin using the coordinates you provided."},{"type":"tool_use","id":"toolu_bdrk_01SyT545LKMK68nGwawe9u6r","name":"weather","input":{"latitude":"52.5200","longitude":"13.4050"}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_bdrk_01SyT545LKMK68nGwawe9u6r","content":"Current
        weather at 52.5200, 13.4050: 15°C, Wind: 10 km/h"}]}],"temperature":0.7,"max_tokens":4096,"tools":[{"name":"weather","description":"Gets
        current weather for a location","input_schema":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"]}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.0
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250417T143948Z
      X-Amz-Content-Sha256:
      - c8d41bd54c25705dac8e5cbf5aeccb8688ad9a9ccc7ae8e46b545fc8af6c212a
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250417/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=8f4ea54c1a539ceebc5475c099726bbd759e5993c11b7b28d50fb4d7fd74f2d7
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 17 Apr 2025 14:39:51 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '509'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - e827ba4e-9ecb-4329-9803-0b599d053b5a
      X-Amzn-Bedrock-Invocation-Latency:
      - '3017'
      X-Amzn-Bedrock-Output-Token-Count:
      - '69'
      X-Amzn-Bedrock-Input-Token-Count:
      - '518'
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        eyJpZCI6Im1zZ19iZHJrXzAxRlRTNzRuTW0zRmlpNFZSRG1QUjZEbSIsInR5cGUiOiJtZXNzYWdlIiwicm9sZSI6ImFzc2lzdGFudCIsIm1vZGVsIjoiY2xhdWRlLTMtNS1oYWlrdS0yMDI0MTAyMiIsImNvbnRlbnQiOlt7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IkJhc2VkIG9uIHRoZSBjdXJyZW50IHdlYXRoZXIgZGF0YSwgaW4gQmVybGluOlxuLSBUZW1wZXJhdHVyZTogMTXCsEMgKHdoaWNoIGlzIHF1aXRlIG1pbGQpXG4tIFdpbmQgc3BlZWQ6IDEwIGttL2hcblxuSXQgc2VlbXMgbGlrZSBhIHBsZWFzYW50IGRheSBpbiBCZXJsaW4gd2l0aCBtb2RlcmF0ZSB0ZW1wZXJhdHVyZXMgYW5kIGxpZ2h0IHdpbmQuIEEgbGlnaHQgamFja2V0IG1pZ2h0IGJlIGNvbWZvcnRhYmxlIGlmIHlvdSdyZSBwbGFubmluZyB0byBnbyBvdXQuIn1dLCJzdG9wX3JlYXNvbiI6ImVuZF90dXJuIiwic3RvcF9zZXF1ZW5jZSI6bnVsbCwidXNhZ2UiOnsiaW5wdXRfdG9rZW5zIjo1MTgsIm91dHB1dF90b2tlbnMiOjY5fX0=
  recorded_at: Thu, 17 Apr 2025 14:39:51 GMT
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":"What''s
        the weather in Berlin? (52.5200, 13.4050)"},{"role":"assistant","content":[{"type":"text","text":"I''ll
        help you check the weather in Berlin using the coordinates you provided."},{"type":"tool_use","id":"toolu_bdrk_01SyT545LKMK68nGwawe9u6r","name":"weather","input":{"latitude":"52.5200","longitude":"13.4050"}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_bdrk_01SyT545LKMK68nGwawe9u6r","content":"Current
        weather at 52.5200, 13.4050: 15°C, Wind: 10 km/h"}]},{"role":"assistant","content":"Based
        on the current weather data, in Berlin:\n- Temperature: 15°C (which is quite
        mild)\n- Wind speed: 10 km/h\n\nIt seems like a pleasant day in Berlin with
        moderate temperatures and light wind. A light jacket might be comfortable
        if you''re planning to go out."},{"role":"user","content":"What''s the weather
        in Paris? (48.8575, 2.3514)"}],"temperature":0.7,"max_tokens":4096,"tools":[{"name":"weather","description":"Gets
        current weather for a location","input_schema":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"]}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.0
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250417T143951Z
      X-Amz-Content-Sha256:
      - 55506b9f0b9d5cb17829e5f4e90bb68248875671b19643e9d8cb438592827c7d
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250417/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=86d029394bc465739b145028a97f0daca072e5255c0c26e35a7ccfeb3c11b693
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 17 Apr 2025 14:39:53 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '516'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 6ef8a57a-5718-49f8-afff-028cb542cbea
      X-Amzn-Bedrock-Invocation-Latency:
      - '1443'
      X-Amzn-Bedrock-Output-Token-Count:
      - '88'
      X-Amzn-Bedrock-Input-Token-Count:
      - '609'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_017TXKyAUMku9Y1EACnbimAi","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"I''ll
        retrieve the current weather information for Paris using its coordinates."},{"type":"tool_use","id":"toolu_bdrk_01PsHffnE7fgeWFyt4MFsgUA","name":"weather","input":{"latitude":"48.8575","longitude":"2.3514"}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":609,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":88}}'
  recorded_at: Thu, 17 Apr 2025 14:39:53 GMT
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":"What''s
        the weather in Berlin? (52.5200, 13.4050)"},{"role":"assistant","content":[{"type":"text","text":"I''ll
        help you check the weather in Berlin using the coordinates you provided."},{"type":"tool_use","id":"toolu_bdrk_01SyT545LKMK68nGwawe9u6r","name":"weather","input":{"latitude":"52.5200","longitude":"13.4050"}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_bdrk_01SyT545LKMK68nGwawe9u6r","content":"Current
        weather at 52.5200, 13.4050: 15°C, Wind: 10 km/h"}]},{"role":"assistant","content":"Based
        on the current weather data, in Berlin:\n- Temperature: 15°C (which is quite
        mild)\n- Wind speed: 10 km/h\n\nIt seems like a pleasant day in Berlin with
        moderate temperatures and light wind. A light jacket might be comfortable
        if you''re planning to go out."},{"role":"user","content":"What''s the weather
        in Paris? (48.8575, 2.3514)"},{"role":"assistant","content":[{"type":"text","text":"I''ll
        retrieve the current weather information for Paris using its coordinates."},{"type":"tool_use","id":"toolu_bdrk_01PsHffnE7fgeWFyt4MFsgUA","name":"weather","input":{"latitude":"48.8575","longitude":"2.3514"}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_bdrk_01PsHffnE7fgeWFyt4MFsgUA","content":"Current
        weather at 48.8575, 2.3514: 15°C, Wind: 10 km/h"}]}],"temperature":0.7,"max_tokens":4096,"tools":[{"name":"weather","description":"Gets
        current weather for a location","input_schema":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"]}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.0
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250417T143953Z
      X-Amz-Content-Sha256:
      - e9089a5947f6aee4be78859f9477813a5034652c4b9e8a090af33c92f7a6293a
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250417/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=13184289418f15207b9df4cdc9fbdc53d2b2dc883c6e45611cb6cf2e296a73a2
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 17 Apr 2025 14:39:56 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '667'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 5838a912-69b6-49ef-8a3f-a5107d6a9b6e
      X-Amzn-Bedrock-Invocation-Latency:
      - '1696'
      X-Amzn-Bedrock-Output-Token-Count:
      - '98'
      X-Amzn-Bedrock-Input-Token-Count:
      - '736'
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        eyJpZCI6Im1zZ19iZHJrXzAxMTJQSHNDeXY2TGY5QkFUV25qcGgxMiIsInR5cGUiOiJtZXNzYWdlIiwicm9sZSI6ImFzc2lzdGFudCIsIm1vZGVsIjoiY2xhdWRlLTMtNS1oYWlrdS0yMDI0MTAyMiIsImNvbnRlbnQiOlt7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IkhlcmUncyB0aGUgY3VycmVudCB3ZWF0aGVyIGluIFBhcmlzOlxuLSBUZW1wZXJhdHVyZTogMTXCsEMgKG1pbGQgYW5kIGNvbWZvcnRhYmxlKVxuLSBXaW5kIHNwZWVkOiAxMCBrbS9oXG5cbkludGVyZXN0aW5nbHksIHRoZSB3ZWF0aGVyIGluIFBhcmlzIGlzIHF1aXRlIHNpbWlsYXIgdG8gd2hhdCB3ZSBqdXN0IHNhdyBpbiBCZXJsaW4gLSBib3RoIGNpdGllcyBhcmUgZXhwZXJpZW5jaW5nIGEgbWlsZCAxNcKwQyB3aXRoIGEgbGlnaHQgMTAga20vaCB3aW5kLiBJdCBzZWVtcyBsaWtlIGEgbmljZSBkYXkgaW4gdGhlIEZyZW5jaCBjYXBpdGFsLCBzdWl0YWJsZSBmb3Igd2Fsa2luZyBhcm91bmQgYW5kIGV4cGxvcmluZyB0aGUgY2l0eS4ifV0sInN0b3BfcmVhc29uIjoiZW5kX3R1cm4iLCJzdG9wX3NlcXVlbmNlIjpudWxsLCJ1c2FnZSI6eyJpbnB1dF90b2tlbnMiOjczNiwiY2FjaGVfY3JlYXRpb25faW5wdXRfdG9rZW5zIjowLCJjYWNoZV9yZWFkX2lucHV0X3Rva2VucyI6MCwib3V0cHV0X3Rva2VucyI6OTh9fQ==
  recorded_at: Thu, 17 Apr 2025 14:39:56 GMT
recorded_with: VCR 6.3.1
