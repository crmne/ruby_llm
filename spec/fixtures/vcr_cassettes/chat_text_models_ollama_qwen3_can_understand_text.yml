---
http_interactions:
- request:
    method: post
    uri: "<OLLAMA_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Date:
      - Fri, 09 Jan 2026 16:03:06 GMT
      Content-Length:
      - '1428'
    body:
      encoding: UTF-8
      string: '{"id":"chatcmpl-333","object":"chat.completion","created":1767974586,"model":"qwen3","system_fingerprint":"fp_ollama","choices":[{"index":0,"message":{"role":"assistant","content":"The
        file `ruby.txt` contains the text:  \n**\"Ruby is the best.\"**  \n\nIt has
        a MIME type of `text/plain`, indicating it is a plain text file. No additional
        formatting or hidden content is present.","reasoning":"Okay, let''s see. The
        user is asking what''s in the file named ruby.txt. The file content is given
        as \"Ruby is the best.\" with a MIME type of text/plain.\n\nFirst, I need
        to confirm the contents. The file is a plain text file, so it''s just a simple
        string. The MIME type text/plain indicates it''s regular text, not binary
        or any other format. \n\nThe actual content is the sentence \"Ruby is the
        best.\" So the answer should state that the file contains that exact text.
        I should mention the MIME type as well to explain the file type. \n\nI should
        make sure there''s no confusion about the file''s purpose. Since it''s a text
        file, there''s no code execution or hidden data. Just the plain text provided.
        \n\nMaybe the user is testing if I can parse the file information correctly.
        They might be looking for a straightforward answer without any extra details.
        So the response should be concise, stating the content and the MIME type.\n"},"finish_reason":"stop"}],"usage":{"prompt_tokens":36,"completion_tokens":254,"total_tokens":290}}

        '
  recorded_at: Fri, 09 Jan 2026 16:03:06 GMT
- request:
    method: post
    uri: "<OLLAMA_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]},{"role":"assistant","content":"The file `ruby.txt`
        contains the text:  \n**\"Ruby is the best.\"**  \n\nIt has a MIME type of
        `text/plain`, indicating it is a plain text file. No additional formatting
        or hidden content is present."},{"role":"user","content":[{"type":"text","text":"and
        in this one?"},{"type":"text","text":"<file name=''ruby.xml'' mime_type=''application/xml''><truism>Ruby
        is the best</truism></file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Date:
      - Fri, 09 Jan 2026 16:03:10 GMT
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"id":"chatcmpl-482","object":"chat.completion","created":1767974590,"model":"qwen3","system_fingerprint":"fp_ollama","choices":[{"index":0,"message":{"role":"assistant","content":"The
        file `ruby.xml` contains an XML document with the following content:  \n**`\u003ctruism\u003eRuby
        is the best\u003c/truism\u003e`**  \n\n### Details:\n- **MIME type**: `application/xml`
        (indicating it is an XML file).  \n- **Structure**: The content is enclosed
        within a `\u003ctruism\u003e` XML tag, which is a custom or application-specific
        tag (not part of standard XML schemas).  \n- **Text**: The phrase **\"Ruby
        is the best\"** is the same as in `ruby.txt`, but now embedded within an XML
        element.  \n\nNo additional formatting or hidden content is present.","reasoning":"Okay,
        the user is asking what''s in the second file, ruby.xml. Let me check the
        previous interaction to see the context. Earlier, they had a ruby.txt file
        with the text \"Ruby is the best.\" Now, the new file is ruby.xml with MIME
        type application/xml and the content \u003ctruism\u003eRuby is the best\u003c/truism\u003e.\n\nFirst,
        I need to confirm the structure of the XML file. The MIME type is application/xml,
        so it''s an XML document. The content has a \u003ctruism\u003e tag enclosing
        the text. I should mention the MIME type and the structure of the XML. Also,
        note that the text inside is the same as before but enclosed in a \u003ctruism\u003e
        tag. The user might be testing if I can recognize XML tags and explain their
        content properly. They might be checking if I can differentiate between plain
        text and XML formats. I should make sure to explain the XML structure clearly,
        pointing out the start and end tags, and the text content. Also, since the
        previous file was plain text, contrasting the two formats could be helpful.
        The user might be verifying if I understand different MIME types and how to
        parse their contents. I should avoid any markdown and keep the explanation
        straightforward. Let me structure the response to first state the MIME type,
        then describe the XML content, and mention the text inside the tag. Also,
        note that the text is similar to the previous file but formatted in XML. That
        should cover the user''s query accurately.\n"},"finish_reason":"stop"}],"usage":{"prompt_tokens":124,"completion_tokens":437,"total_tokens":561}}

        '
  recorded_at: Fri, 09 Jan 2026 16:03:10 GMT
recorded_with: VCR 6.4.0
