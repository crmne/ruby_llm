---
http_interactions:
- request:
    method: post
    uri: "<OLLAMA_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Date:
      - Sun, 21 Sep 2025 14:35:35 GMT
      Content-Length:
      - '1152'
    body:
      encoding: UTF-8
      string: '{"id":"chatcmpl-27","object":"chat.completion","created":1758465335,"model":"qwen3","system_fingerprint":"fp_ollama","choices":[{"index":0,"message":{"role":"assistant","content":"\u003cthink\u003e\nOkay,
        the user is asking what''s in the file called ruby.txt. Let me check the information
        provided. The file has a mime type of text/plain, which means it''s a plain
        text file. The content given is \"Ruby is the best.\" So, the file is a simple
        text file containing that exact sentence. I should confirm that there''s no
        additional content beyond that. Since the user might be testing if I can parse
        the file info correctly, I should state the content clearly. Also, maybe they
        want to know if there''s anything else, but based on the data, it''s just
        that one line. I''ll make sure to mention the mime type and the content explicitly.\n\u003c/think\u003e\n\nThe
        file `ruby.txt` contains the following text:\n\n```\nRuby is the best.\n```\n\nIt
        is a plain text file ( MIME type: `text/plain` ), and its content is a single
        line stating \"Ruby is the best.\""},"finish_reason":"stop"}],"usage":{"prompt_tokens":34,"completion_tokens":193,"total_tokens":227}}

        '
  recorded_at: Sun, 21 Sep 2025 14:35:35 GMT
- request:
    method: post
    uri: "<OLLAMA_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]},{"role":"assistant","content":"<think>\nOkay, the
        user is asking what''s in the file called ruby.txt. Let me check the information
        provided. The file has a mime type of text/plain, which means it''s a plain
        text file. The content given is \"Ruby is the best.\" So, the file is a simple
        text file containing that exact sentence. I should confirm that there''s no
        additional content beyond that. Since the user might be testing if I can parse
        the file info correctly, I should state the content clearly. Also, maybe they
        want to know if there''s anything else, but based on the data, it''s just
        that one line. I''ll make sure to mention the mime type and the content explicitly.\n</think>\n\nThe
        file `ruby.txt` contains the following text:\n\n```\nRuby is the best.\n```\n\nIt
        is a plain text file ( MIME type: `text/plain` ), and its content is a single
        line stating \"Ruby is the best.\""},{"role":"user","content":[{"type":"text","text":"and
        in this one?"},{"type":"text","text":"<file name=''ruby.xml'' mime_type=''application/xml''><truism>Ruby
        is the best</truism></file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Date:
      - Sun, 21 Sep 2025 14:35:38 GMT
      Content-Length:
      - '1780'
    body:
      encoding: UTF-8
      string: '{"id":"chatcmpl-22","object":"chat.completion","created":1758465338,"model":"qwen3","system_fingerprint":"fp_ollama","choices":[{"index":0,"message":{"role":"assistant","content":"\u003cthink\u003e\nOkay,
        let''s see. The user asked what''s in the second file, which is ruby.xml.
        The previous file was ruby.txt with plain text. Now this one is XML.\n\nFirst,
        I need to parse the XML content. The file name is ruby.xml, MIME type application/xml.
        The content is \u003ctruism\u003eRuby is the best\u003c/truism\u003e. \n\nSo
        the structure is a root element \u003ctruism\u003e containing the text \"Ruby
        is the best\". I should explain that it''s an XML document with a truism element.
        Mention the MIME type and the content. Also, note that XML requires proper
        syntax, but here it''s correctly formed with the tag closed. Maybe the user
        is comparing XML vs plain text, or checking for differences. They might be
        testing if I can recognize XML tags and explain the structure. Also, the previous
        answer had a sentence, so this one is similar but in XML format. I should
        make sure to highlight the XML structure and the content inside the tag.\n\u003c/think\u003e\n\nThe
        file `ruby.xml` contains the following XML content:\n\n```xml\n\u003ctruism\u003eRuby
        is the best\u003c/truism\u003e\n```\n\n### Details:\n- **MIME Type**: `application/xml`
        (indicating it''s an XML file).\n- **Structure**: It is a simple XML document
        with a single root element `\u003ctruism\u003e`, which encloses the text `\"Ruby
        is the best\"`.\n- **Syntax**: The XML is well-formed, with properly closed
        tags.\n\nThis file differs from `ruby.txt` in format (XML vs. plain text)
        but shares the same textual content."},"finish_reason":"stop"}],"usage":{"prompt_tokens":124,"completion_tokens":331,"total_tokens":455}}

        '
  recorded_at: Sun, 21 Sep 2025 14:35:38 GMT
recorded_with: VCR 6.3.1
