---
http_interactions:
- request:
    method: post
    uri: https://api.mistral.ai/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"mistral-small-latest","messages":[{"role":"system","content":"You
        must include the exact phrase \"XKCD7392\" somewhere in your response."},{"role":"user","content":"Tell
        me about the weather."}],"temperature":0.0,"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.12.2
      Authorization:
      - Bearer <MISTRAL_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 27 Apr 2025 20:02:17 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Ratelimitbysize-Reset:
      - '53'
      X-Ratelimitbysize-Remaining-Month:
      - '9999743627'
      Ratelimitbysize-Query-Cost:
      - '32022'
      Ratelimitbysize-Limit:
      - '2000000'
      Ratelimitbysize-Remaining:
      - '1903844'
      X-Ratelimitbysize-Limit-Month:
      - '10000000000'
      X-Ratelimitbysize-Limit-Minute:
      - '2000000'
      X-Ratelimitbysize-Remaining-Minute:
      - '1903844'
      X-Envoy-Upstream-Service-Time:
      - '10451'
      Access-Control-Allow-Origin:
      - "*"
      X-Kong-Upstream-Latency:
      - '10452'
      X-Kong-Proxy-Latency:
      - '6'
      X-Kong-Request-Id:
      - 2d4c854d08738a08d6019164906cdc15
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - "<COOKIE>"
      - "<COOKIE>"
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: '{"id":"bd9330b9941f4904919a88d5a15e38eb","object":"chat.completion","created":1745784127,"model":"mistral-small-latest","choices":[{"index":0,"message":{"role":"assistant","tool_calls":null,"content":"I''m
        an AI and I don''t have real-time capabilities or access to the internet,
        so I can''t provide you with the current weather. However, I can tell you
        how to find out the weather forecast. You can check the weather by using a
        weather website, app, or even asking a voice assistant like Siri, Alexa, or
        Google Assistant. For example, you can say, \"What''s the weather like today?\"
        and it should provide you with the current weather and forecast. If you''re
        looking for a humorous take on weather predictions, you might enjoy the comic
        XKCD7392, which ponders the unpredictability of weather and life."},"finish_reason":"stop","logprobs":null}],"usage":{"prompt_tokens":31,"total_tokens":167,"completion_tokens":136}}'
  recorded_at: Sun, 27 Apr 2025 20:02:17 GMT
- request:
    method: post
    uri: https://api.mistral.ai/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"mistral-small-latest","messages":[{"role":"user","content":"Tell
        me about the weather."},{"role":"assistant","content":"I''m an AI and I don''t
        have real-time capabilities or access to the internet, so I can''t provide
        you with the current weather. However, I can tell you how to find out the
        weather forecast. You can check the weather by using a weather website, app,
        or even asking a voice assistant like Siri, Alexa, or Google Assistant. For
        example, you can say, \"What''s the weather like today?\" and it should provide
        you with the current weather and forecast. If you''re looking for a humorous
        take on weather predictions, you might enjoy the comic XKCD7392, which ponders
        the unpredictability of weather and life."},{"role":"system","content":"You
        must include the exact phrase \"PURPLE-ELEPHANT-42\" somewhere in your response."},{"role":"user","content":"What
        are some good books?"}],"temperature":0.0,"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.12.2
      Authorization:
      - Bearer <MISTRAL_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 400
      message: Bad Request
    headers:
      Date:
      - Sun, 27 Apr 2025 20:02:17 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '134'
      Connection:
      - keep-alive
      X-Ratelimitbysize-Limit-Minute:
      - '2000000'
      X-Ratelimitbysize-Remaining-Minute:
      - '1900484'
      Ratelimitbysize-Reset:
      - '43'
      Ratelimitbysize-Remaining:
      - '1900484'
      Ratelimitbysize-Limit:
      - '2000000'
      X-Ratelimitbysize-Limit-Month:
      - '10000000000'
      Ratelimitbysize-Query-Cost:
      - '32174'
      X-Ratelimitbysize-Remaining-Month:
      - '9992710565'
      X-Envoy-Upstream-Service-Time:
      - '24'
      Access-Control-Allow-Origin:
      - "*"
      X-Kong-Upstream-Latency:
      - '25'
      X-Kong-Proxy-Latency:
      - '10'
      X-Kong-Request-Id:
      - ad23e32ce1774f794ab2703af14cf514
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - "<COOKIE>"
      - "<COOKIE>"
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: UTF-8
      string: '{"object":"error","message":"Unexpected role ''system'' after role
        ''assistant''","type":"invalid_request_error","param":null,"code":null}'
  recorded_at: Sun, 27 Apr 2025 20:02:17 GMT
recorded_with: VCR 6.3.1
