---
http_interactions:
- request:
    method: post
    uri: "<GPUSTACK_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Authorization:
      - Bearer <GPUSTACK_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Fri, 09 Jan 2026 15:54:45 GMT
      - Fri, 09 Jan 2026 15:54:45 GMT
      Server:
      - uvicorn
      - uvicorn
      Keep-Alive:
      - timeout=15, max=100
      Content-Length:
      - '1617'
      Content-Type:
      - application/json
      X-Request-Accepted-At:
      - "<X_REQUEST_ID>"
      X-Request-Id:
      - "<X_REQUEST_ID>"
      Access-Control-Allow-Origin:
      - "*"
    body:
      encoding: UTF-8
      string: '{"choices":[{"finish_reason":"stop","index":0,"message":{"content":"\n\nThe
        file `ruby.txt` contains the following text:\n\n```\nRuby is the best.\n```\n\nIt
        is a plain text file (MIME type: `text/plain`), so there are no special formatting
        or binary data included. The content is a simple sentence stating that Ruby
        is the best.","reasoning_content":"\nOkay, the user is asking what''s in the
        file named ruby.txt. Let me check the information provided. The file has a
        mime type of text/plain, which means it''s a plain text file. The content
        given is \"Ruby is the best.\" So, the file is a simple text file containing
        that exact sentence. I should confirm that there''s no additional content
        beyond that. Since the user might be testing if I can parse the file data
        correctly, I need to make sure I''m not missing anything. The answer should
        clearly state the content of the file and mention the mime type as text/plain.
        Also, maybe note that it''s a straightforward text file with no special formatting.
        Alright, that''s all there is to it.\n","role":"assistant"}}],"created":1767974087,"id":"chatcmpl-aaCUNINUbXKXkM4rSFS0zqk9LJj4Hx6S","model":"qwen3","object":"chat.completion","usage":{"completion_tokens":213,"completion_tokens_details":{"accepted_prediction_tokens":0,"reasoning_tokens":150,"rejected_prediction_tokens":0},"draft_tokens":0,"draft_tokens_acceptance":0.0,"prompt_tokens":34,"prompt_tokens_details":{"cached_tokens":0},"prompt_tokens_per_second":226.60170751051365,"time_per_output_token_ms":7.890103286384977,"time_to_first_token_ms":150.043,"tokens_per_second":126.74105315269857,"total_tokens":247}}'
  recorded_at: Fri, 09 Jan 2026 15:54:47 GMT
- request:
    method: post
    uri: "<GPUSTACK_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]},{"role":"assistant","content":"\n\nThe file `ruby.txt`
        contains the following text:\n\n```\nRuby is the best.\n```\n\nIt is a plain
        text file (MIME type: `text/plain`), so there are no special formatting or
        binary data included. The content is a simple sentence stating that Ruby is
        the best."},{"role":"user","content":[{"type":"text","text":"and in this one?"},{"type":"text","text":"<file
        name=''ruby.xml'' mime_type=''application/xml''><truism>Ruby is the best</truism></file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Authorization:
      - Bearer <GPUSTACK_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Fri, 09 Jan 2026 15:54:47 GMT
      - Fri, 09 Jan 2026 15:54:47 GMT
      Server:
      - uvicorn
      - uvicorn
      Keep-Alive:
      - timeout=15, max=100
      Content-Length:
      - '3249'
      Content-Type:
      - application/json
      X-Request-Accepted-At:
      - "<X_REQUEST_ID>"
      X-Request-Id:
      - "<X_REQUEST_ID>"
      Access-Control-Allow-Origin:
      - "*"
    body:
      encoding: UTF-8
      string: '{"choices":[{"finish_reason":"stop","index":0,"message":{"content":"\n\nThe
        file `ruby.xml` contains the following XML content:\n\n```xml\n<truism>Ruby
        is the best</truism>\n```\n\n### Key details:\n- **MIME type**: `application/xml`
        (indicating it''s an XML file).\n- **Structure**: A simple XML document with
        a single `<truism>` tag containing the text \"Ruby is the best\".\n- **Content**:
        The same phrase as in `ruby.txt`, but wrapped in an XML tag for structured
        data.\n\nThis is a minimal, well-formed XML document. The `<truism>` tag is
        a custom element (not part of standard XML), so it could be used for specific
        applications like configuration files or data serialization.","reasoning_content":"\nOkay,
        the user is asking about the contents of another file called ruby.xml. Let
        me check the previous interaction to understand the context. Earlier, they
        had a ruby.txt file with the text \"Ruby is the best.\" Now, the new file
        is ruby.xml with XML content.\n\nFirst, I need to parse the XML structure.
        The file starts with <file name=''ruby.xml'' mime_type=''application/xml''><truism>Ruby
        is the best</truism></file>. So the actual XML content is the <truism> tag
        containing the text. \n\nI should explain that this is an XML file, so the
        structure is different from plain text. The MIME type is application/xml,
        which is important. The user might be comparing XML and plain text files,
        or they might be working on a project that uses both formats. \n\nI need to
        highlight the XML structure, the tag, and the content. Also, note that the
        XML is well-formed, with proper opening and closing tags. The user might be
        interested in how XML is used for data storage or configuration, so mentioning
        that it''s a simple XML document could be helpful. \n\nI should make sure
        to point out the difference from the previous file. The first was plain text,
        and this one uses XML tags. Maybe the user is learning about different file
        formats or working with XML data. \n\nAlso, check if there''s any hidden meaning
        in the XML content. The text \"Ruby is the best\" is the same as before, but
        wrapped in a tag. The user might be testing if I can recognize that the content
        is the same but formatted differently. \n\nI should mention the MIME type
        again to confirm it''s XML. Also, note that the XML is minimal, with no attributes
        or additional elements. The user might be looking for validation that the
        XML is correct, so pointing out that it''s well-formed is good. \n\nIn summary,
        the answer should explain the XML structure, the MIME type, the content, and
        how it differs from the previous file. Keep it clear and concise, making sure
        to address both the format and the content.\n","role":"assistant"}}],"created":1767974092,"id":"chatcmpl-QvlODC1vVq9C44L0QezgTxfHgPDPNkXe","model":"qwen3","object":"chat.completion","usage":{"completion_tokens":572,"completion_tokens_details":{"accepted_prediction_tokens":0,"reasoning_tokens":427,"rejected_prediction_tokens":0},"draft_tokens":0,"draft_tokens_acceptance":0.0,"prompt_tokens":135,"prompt_tokens_details":{"cached_tokens":32},"prompt_tokens_per_second":4352.030947775629,"time_per_output_token_ms":8.166288461538462,"time_to_first_token_ms":31.02,"tokens_per_second":122.45465056858991,"total_tokens":707}}'
  recorded_at: Fri, 09 Jan 2026 15:54:52 GMT
recorded_with: VCR 6.4.0
