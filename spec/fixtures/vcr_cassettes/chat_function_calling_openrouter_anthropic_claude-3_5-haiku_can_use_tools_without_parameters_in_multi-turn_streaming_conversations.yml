---
http_interactions:
- request:
    method: post
    uri: https://openrouter.ai/api/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"anthropic/claude-3.5-haiku","messages":[{"role":"developer","content":"You
        must use tools whenever possible."},{"role":"user","content":"What''s the
        best language to learn?"}],"temperature":0.7,"stream":true,"tools":[{"type":"function","function":{"name":"best_language_to_learn","description":"Gets
        the best language to learn","parameters":{"type":"object","properties":{},"required":[]}}}],"tool_choice":"auto","stream_options":{"include_usage":true}}'
    headers:
      User-Agent:
      - Faraday v2.13.1
      Authorization:
      - Bearer <OPENROUTER_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 05 May 2025 19:24:38 GMT
      Content-Type:
      - text/event-stream
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Cache-Control:
      - no-cache
      X-Clerk-Auth-Message:
      - Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid,
        token-carrier=header)
      X-Clerk-Auth-Reason:
      - token-invalid
      X-Clerk-Auth-Status:
      - signed-out
      Vary:
      - Accept-Encoding
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: UTF-8
      string: |+
        : OPENROUTER PROCESSING

        : OPENROUTER PROCESSING

        : OPENROUTER PROCESSING

        : OPENROUTER PROCESSING

        data: {"id":"gen-1746473078-3r36Gl1R41XiFGbuESUQ","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473078,"choices":[{"index":0,"delta":{"role":"assistant","content":""},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473078-3r36Gl1R41XiFGbuESUQ","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473078,"choices":[{"index":0,"delta":{"role":"assistant","content":""},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473078-3r36Gl1R41XiFGbuESUQ","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473078,"choices":[{"index":0,"delta":{"role":"assistant","content":"I"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473078-3r36Gl1R41XiFGbuESUQ","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473078,"choices":[{"index":0,"delta":{"role":"assistant","content":"'ll help"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473078-3r36Gl1R41XiFGbuESUQ","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473078,"choices":[{"index":0,"delta":{"role":"assistant","content":" you find out by"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473078-3r36Gl1R41XiFGbuESUQ","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473078,"choices":[{"index":0,"delta":{"role":"assistant","content":" using the available"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473078-3r36Gl1R41XiFGbuESUQ","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473078,"choices":[{"index":0,"delta":{"role":"assistant","content":" tool to determine"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473078-3r36Gl1R41XiFGbuESUQ","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473078,"choices":[{"index":0,"delta":{"role":"assistant","content":" the best language to learn"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473078-3r36Gl1R41XiFGbuESUQ","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473078,"choices":[{"index":0,"delta":{"role":"assistant","content":"."},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473078-3r36Gl1R41XiFGbuESUQ","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473078,"choices":[{"delta":{"role":"assistant","content":null,"tool_calls":[{"id":"toolu_01KHo7RSTbTtPWRG27nwrW9E","index":0,"type":"function","function":{"name":"best_language_to_learn","arguments":""}}]},"index":0,"finish_reason":null,"native_finish_reason":null}]}

        data: {"id":"gen-1746473078-3r36Gl1R41XiFGbuESUQ","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473078,"choices":[{"delta":{"role":"assistant","content":null,"tool_calls":[{"index":0,"type":"function","function":{"arguments":""}}]},"index":0,"finish_reason":null,"native_finish_reason":null}]}

        data: {"id":"gen-1746473078-3r36Gl1R41XiFGbuESUQ","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473078,"choices":[{"index":0,"delta":{"role":"assistant","content":""},"finish_reason":"tool_calls","native_finish_reason":"tool_calls","logprobs":null}]}

        data: {"id":"gen-1746473078-3r36Gl1R41XiFGbuESUQ","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473078,"choices":[{"index":0,"delta":{"role":"assistant","content":""},"finish_reason":null,"native_finish_reason":null,"logprobs":null}],"usage":{"prompt_tokens":335,"completion_tokens":61,"total_tokens":396,"cost":0.000512,"prompt_tokens_details":{"cached_tokens":0},"completion_tokens_details":{"reasoning_tokens":0}}}

        data: [DONE]

  recorded_at: Mon, 05 May 2025 19:24:41 GMT
- request:
    method: post
    uri: https://openrouter.ai/api/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"anthropic/claude-3.5-haiku","messages":[{"role":"developer","content":"You
        must use tools whenever possible."},{"role":"user","content":"What''s the
        best language to learn?"},{"role":"assistant","content":"I''ll help you find
        out by using the available tool to determine the best language to learn.","tool_calls":[{"id":"toolu_01KHo7RSTbTtPWRG27nwrW9E","type":"function","function":{"name":"best_language_to_learn","arguments":"{}"}}]},{"role":"tool","content":"Ruby","tool_call_id":"toolu_01KHo7RSTbTtPWRG27nwrW9E"}],"temperature":0.7,"stream":true,"tools":[{"type":"function","function":{"name":"best_language_to_learn","description":"Gets
        the best language to learn","parameters":{"type":"object","properties":{},"required":[]}}}],"tool_choice":"auto","stream_options":{"include_usage":true}}'
    headers:
      User-Agent:
      - Faraday v2.13.1
      Authorization:
      - Bearer <OPENROUTER_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 05 May 2025 19:24:41 GMT
      Content-Type:
      - text/event-stream
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Cache-Control:
      - no-cache
      X-Clerk-Auth-Message:
      - Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid,
        token-carrier=header)
      X-Clerk-Auth-Reason:
      - token-invalid
      X-Clerk-Auth-Status:
      - signed-out
      Vary:
      - Accept-Encoding
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: UTF-8
      string: |+
        : OPENROUTER PROCESSING

        : OPENROUTER PROCESSING

        : OPENROUTER PROCESSING

        : OPENROUTER PROCESSING

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":""},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":""},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":"According"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":" to the tool, Ruby"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":" is the best language to"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":" learn right now!"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":" Ruby is a dynamic"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":", object-oriented programming"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":" language known for its simplicity an"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":"d readability. It's"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":" particularly popular for web development,"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":" especially with the Ruby on Rails framework."},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":" \n\nSome reasons why Ruby might"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":" be a great language to learn:"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":"\n1. Easy to read and write,"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":" with a clean and elegant"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":" syntax\n2. Great"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":" for web development and scri"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":"pting\n3. Strong"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":" community support\n4. Use"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":"d in many startups and tech"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":" companies\n5. Versat"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":"ile and beginner-friendly\n\nOf"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":" course, the \"best\" language can"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":" depend on your specific goals,"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":" whether you're interested in web development,"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":" data science, mobile apps, or other"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":" areas of programming. But Ruby is certainly"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":" an excellent choice for many"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":" aspiring programmers.\n\nWoul"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":"d you like to know more about Ruby or"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":" discuss why it might be a good language"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":" for you to learn?"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":""},"finish_reason":"stop","native_finish_reason":"stop","logprobs":null}]}

        data: {"id":"gen-1746473081-uUqf9yN5tN4zLtkvF12O","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473081,"choices":[{"index":0,"delta":{"role":"assistant","content":""},"finish_reason":null,"native_finish_reason":null,"logprobs":null}],"usage":{"prompt_tokens":407,"completion_tokens":196,"total_tokens":603,"cost":0.0011096,"prompt_tokens_details":{"cached_tokens":0},"completion_tokens_details":{"reasoning_tokens":0}}}

        data: [DONE]

  recorded_at: Mon, 05 May 2025 19:24:46 GMT
- request:
    method: post
    uri: https://openrouter.ai/api/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"anthropic/claude-3.5-haiku","messages":[{"role":"developer","content":"You
        must use tools whenever possible."},{"role":"user","content":"What''s the
        best language to learn?"},{"role":"assistant","content":"I''ll help you find
        out by using the available tool to determine the best language to learn.","tool_calls":[{"id":"toolu_01KHo7RSTbTtPWRG27nwrW9E","type":"function","function":{"name":"best_language_to_learn","arguments":"{}"}}]},{"role":"tool","content":"Ruby","tool_call_id":"toolu_01KHo7RSTbTtPWRG27nwrW9E"},{"role":"assistant","content":"According
        to the tool, Ruby is the best language to learn right now! Ruby is a dynamic,
        object-oriented programming language known for its simplicity and readability.
        It''s particularly popular for web development, especially with the Ruby on
        Rails framework. \n\nSome reasons why Ruby might be a great language to learn:\n1.
        Easy to read and write, with a clean and elegant syntax\n2. Great for web
        development and scripting\n3. Strong community support\n4. Used in many startups
        and tech companies\n5. Versatile and beginner-friendly\n\nOf course, the \"best\"
        language can depend on your specific goals, whether you''re interested in
        web development, data science, mobile apps, or other areas of programming.
        But Ruby is certainly an excellent choice for many aspiring programmers.\n\nWould
        you like to know more about Ruby or discuss why it might be a good language
        for you to learn?"},{"role":"user","content":"Tell me again: what''s the best
        language to learn?"}],"temperature":0.7,"stream":true,"tools":[{"type":"function","function":{"name":"best_language_to_learn","description":"Gets
        the best language to learn","parameters":{"type":"object","properties":{},"required":[]}}}],"tool_choice":"auto","stream_options":{"include_usage":true}}'
    headers:
      User-Agent:
      - Faraday v2.13.1
      Authorization:
      - Bearer <OPENROUTER_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 05 May 2025 19:24:46 GMT
      Content-Type:
      - text/event-stream
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Cache-Control:
      - no-cache
      X-Clerk-Auth-Message:
      - Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid,
        token-carrier=header)
      X-Clerk-Auth-Reason:
      - token-invalid
      X-Clerk-Auth-Status:
      - signed-out
      Vary:
      - Accept-Encoding
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: UTF-8
      string: |+
        : OPENROUTER PROCESSING

        : OPENROUTER PROCESSING

        : OPENROUTER PROCESSING

        data: {"id":"gen-1746473087-xxKISX6FDWX7DP4OpdFP","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473087,"choices":[{"index":0,"delta":{"role":"assistant","content":""},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473087-xxKISX6FDWX7DP4OpdFP","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473087,"choices":[{"index":0,"delta":{"role":"assistant","content":""},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473087-xxKISX6FDWX7DP4OpdFP","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473087,"choices":[{"index":0,"delta":{"role":"assistant","content":"I"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473087-xxKISX6FDWX7DP4OpdFP","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473087,"choices":[{"index":0,"delta":{"role":"assistant","content":"'ll check the tool again to"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473087-xxKISX6FDWX7DP4OpdFP","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473087,"choices":[{"index":0,"delta":{"role":"assistant","content":" confirm the best language to learn"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473087-xxKISX6FDWX7DP4OpdFP","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473087,"choices":[{"index":0,"delta":{"role":"assistant","content":"."},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473087-xxKISX6FDWX7DP4OpdFP","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473087,"choices":[{"delta":{"role":"assistant","content":null,"tool_calls":[{"id":"toolu_01FZLpGjcWmzteVLKPu88BVU","index":0,"type":"function","function":{"name":"best_language_to_learn","arguments":""}}]},"index":0,"finish_reason":null,"native_finish_reason":null}]}

        data: {"id":"gen-1746473087-xxKISX6FDWX7DP4OpdFP","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473087,"choices":[{"delta":{"role":"assistant","content":null,"tool_calls":[{"index":0,"type":"function","function":{"arguments":""}}]},"index":0,"finish_reason":null,"native_finish_reason":null}]}

        data: {"id":"gen-1746473087-xxKISX6FDWX7DP4OpdFP","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473087,"choices":[{"index":0,"delta":{"role":"assistant","content":""},"finish_reason":"tool_calls","native_finish_reason":"tool_calls","logprobs":null}]}

        data: {"id":"gen-1746473087-xxKISX6FDWX7DP4OpdFP","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473087,"choices":[{"index":0,"delta":{"role":"assistant","content":""},"finish_reason":null,"native_finish_reason":null,"logprobs":null}],"usage":{"prompt_tokens":616,"completion_tokens":56,"total_tokens":672,"cost":0.0007168,"prompt_tokens_details":{"cached_tokens":0},"completion_tokens_details":{"reasoning_tokens":0}}}

        data: [DONE]

  recorded_at: Mon, 05 May 2025 19:24:49 GMT
- request:
    method: post
    uri: https://openrouter.ai/api/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"anthropic/claude-3.5-haiku","messages":[{"role":"developer","content":"You
        must use tools whenever possible."},{"role":"user","content":"What''s the
        best language to learn?"},{"role":"assistant","content":"I''ll help you find
        out by using the available tool to determine the best language to learn.","tool_calls":[{"id":"toolu_01KHo7RSTbTtPWRG27nwrW9E","type":"function","function":{"name":"best_language_to_learn","arguments":"{}"}}]},{"role":"tool","content":"Ruby","tool_call_id":"toolu_01KHo7RSTbTtPWRG27nwrW9E"},{"role":"assistant","content":"According
        to the tool, Ruby is the best language to learn right now! Ruby is a dynamic,
        object-oriented programming language known for its simplicity and readability.
        It''s particularly popular for web development, especially with the Ruby on
        Rails framework. \n\nSome reasons why Ruby might be a great language to learn:\n1.
        Easy to read and write, with a clean and elegant syntax\n2. Great for web
        development and scripting\n3. Strong community support\n4. Used in many startups
        and tech companies\n5. Versatile and beginner-friendly\n\nOf course, the \"best\"
        language can depend on your specific goals, whether you''re interested in
        web development, data science, mobile apps, or other areas of programming.
        But Ruby is certainly an excellent choice for many aspiring programmers.\n\nWould
        you like to know more about Ruby or discuss why it might be a good language
        for you to learn?"},{"role":"user","content":"Tell me again: what''s the best
        language to learn?"},{"role":"assistant","content":"I''ll check the tool again
        to confirm the best language to learn.","tool_calls":[{"id":"toolu_01FZLpGjcWmzteVLKPu88BVU","type":"function","function":{"name":"best_language_to_learn","arguments":"{}"}}]},{"role":"tool","content":"Ruby","tool_call_id":"toolu_01FZLpGjcWmzteVLKPu88BVU"}],"temperature":0.7,"stream":true,"tools":[{"type":"function","function":{"name":"best_language_to_learn","description":"Gets
        the best language to learn","parameters":{"type":"object","properties":{},"required":[]}}}],"tool_choice":"auto","stream_options":{"include_usage":true}}'
    headers:
      User-Agent:
      - Faraday v2.13.1
      Authorization:
      - Bearer <OPENROUTER_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 05 May 2025 19:24:49 GMT
      Content-Type:
      - text/event-stream
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Cache-Control:
      - no-cache
      X-Clerk-Auth-Message:
      - Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid,
        token-carrier=header)
      X-Clerk-Auth-Reason:
      - token-invalid
      X-Clerk-Auth-Status:
      - signed-out
      Vary:
      - Accept-Encoding
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: UTF-8
      string: |+
        : OPENROUTER PROCESSING

        : OPENROUTER PROCESSING

        : OPENROUTER PROCESSING

        data: {"id":"gen-1746473089-cNTYJafjUHIaLlP5xE4x","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473089,"choices":[{"index":0,"delta":{"role":"assistant","content":""},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473089-cNTYJafjUHIaLlP5xE4x","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473089,"choices":[{"index":0,"delta":{"role":"assistant","content":""},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473089-cNTYJafjUHIaLlP5xE4x","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473089,"choices":[{"index":0,"delta":{"role":"assistant","content":"The"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473089-cNTYJafjUHIaLlP5xE4x","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473089,"choices":[{"index":0,"delta":{"role":"assistant","content":" tool consistently recommends Ruby as the"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473089-cNTYJafjUHIaLlP5xE4x","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473089,"choices":[{"index":0,"delta":{"role":"assistant","content":" best language to learn."},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473089-cNTYJafjUHIaLlP5xE4x","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473089,"choices":[{"index":0,"delta":{"role":"assistant","content":" As mentioned in my"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473089-cNTYJafjUHIaLlP5xE4x","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473089,"choices":[{"index":0,"delta":{"role":"assistant","content":" previous response, Ruby is"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473089-cNTYJafjUHIaLlP5xE4x","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473089,"choices":[{"index":0,"delta":{"role":"assistant","content":" a dynamic, object-oriente"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473089-cNTYJafjUHIaLlP5xE4x","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473089,"choices":[{"index":0,"delta":{"role":"assistant","content":"d programming language known for its simplicity and readability"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473089-cNTYJafjUHIaLlP5xE4x","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473089,"choices":[{"index":0,"delta":{"role":"assistant","content":". It remains an excellent choice for those"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473089-cNTYJafjUHIaLlP5xE4x","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473089,"choices":[{"index":0,"delta":{"role":"assistant","content":" looking to start their programming journey or"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473089-cNTYJafjUHIaLlP5xE4x","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473089,"choices":[{"index":0,"delta":{"role":"assistant","content":" expand their coding skills.\n\nIf"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473089-cNTYJafjUHIaLlP5xE4x","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473089,"choices":[{"index":0,"delta":{"role":"assistant","content":" you're interested in learning more"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473089-cNTYJafjUHIaLlP5xE4x","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473089,"choices":[{"index":0,"delta":{"role":"assistant","content":" about why Ruby is recommended or"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473089-cNTYJafjUHIaLlP5xE4x","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473089,"choices":[{"index":0,"delta":{"role":"assistant","content":" want to explore its"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473089-cNTYJafjUHIaLlP5xE4x","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473089,"choices":[{"index":0,"delta":{"role":"assistant","content":" potential applications, I'd be happy"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473089-cNTYJafjUHIaLlP5xE4x","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473089,"choices":[{"index":0,"delta":{"role":"assistant","content":" to provide more detailed information"},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473089-cNTYJafjUHIaLlP5xE4x","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473089,"choices":[{"index":0,"delta":{"role":"assistant","content":"."},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

        data: {"id":"gen-1746473089-cNTYJafjUHIaLlP5xE4x","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473089,"choices":[{"index":0,"delta":{"role":"assistant","content":""},"finish_reason":"stop","native_finish_reason":"stop","logprobs":null}]}

        data: {"id":"gen-1746473089-cNTYJafjUHIaLlP5xE4x","provider":"Anthropic","model":"anthropic/claude-3.5-haiku","object":"chat.completion.chunk","created":1746473089,"choices":[{"index":0,"delta":{"role":"assistant","content":""},"finish_reason":null,"native_finish_reason":null,"logprobs":null}],"usage":{"prompt_tokens":683,"completion_tokens":95,"total_tokens":778,"cost":0.0009264,"prompt_tokens_details":{"cached_tokens":0},"completion_tokens_details":{"reasoning_tokens":0}}}

        data: [DONE]

  recorded_at: Mon, 05 May 2025 19:24:52 GMT
recorded_with: VCR 6.3.1
...
