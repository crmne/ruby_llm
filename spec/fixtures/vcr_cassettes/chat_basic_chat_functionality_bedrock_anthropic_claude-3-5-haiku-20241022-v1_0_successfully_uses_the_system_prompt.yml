---
http_interactions:
  - request:
      method: post
      uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/converse
      body:
        encoding: UTF-8
        string:
          '{"messages":[{"role":"user","content":[{"text":"You must include the
          exact phrase \"XKCD7392\" somewhere in your response."}]},{"role":"user","content":[{"text":"Tell
          me about the weather."}]}],"inferenceConfig":{"maxTokens":4096,"temperature":0.0}}'
      headers:
        User-Agent:
          - Faraday v2.13.4
        Host:
          - bedrock-runtime.<AWS_REGION>.amazonaws.com
        X-Amz-Date:
          - 20250916T012304Z
        X-Amz-Content-Sha256:
          - 3d2886b9cdaa88736b446fc2f683ed92703b09f0919f816d83a12aaf29832a28
        Authorization:
          - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250916/<AWS_REGION>/bedrock/aws4_request,
            SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=b6265a2496eca9040055b9917d2e48ce6992a593061b32c37b5da5e30c9f0400
        Content-Type:
          - application/json
        Accept:
          - application/json
        Accept-Encoding:
          - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
    response:
      status:
        code: 200
        message: OK
      headers:
        Date:
          - Tue, 16 Sep 2025 01:23:08 GMT
        Content-Type:
          - application/json
        Content-Length:
          - "877"
        Connection:
          - keep-alive
        X-Amzn-Requestid:
          - d9ff7e61-d7df-4055-96b2-ca0def48b515
      body:
        encoding: UTF-8
        string:
          '{"metrics":{"latencyMs":3064},"output":{"message":{"content":[{"text":"The
          weather can vary widely depending on your location and current atmospheric
          conditions. Today, many regions are experiencing typical seasonal patterns,
          though climate change is increasingly influencing weather trends globally.
          XKCD7392 Some areas might see sunny skies, while others could experience precipitation
          or temperature fluctuations. It''s always a good idea to check local forecasts
          for the most up-to-date and location-specific weather information. Factors
          like temperature, humidity, wind speed, and atmospheric pressure all contribute
          to our daily weather experiences."}],"role":"assistant"}},"stopReason":"end_turn","usage":{"cacheReadInputTokenCount":0,"cacheReadInputTokens":0,"cacheWriteInputTokenCount":0,"cacheWriteInputTokens":0,"inputTokens":32,"outputTokens":111,"totalTokens":143}}'
    recorded_at: Tue, 16 Sep 2025 01:23:08 GMT
recorded_with: VCR 6.3.1
