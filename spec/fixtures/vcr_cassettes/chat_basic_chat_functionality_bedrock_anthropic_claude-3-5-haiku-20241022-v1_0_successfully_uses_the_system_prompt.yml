---
http_interactions:
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/converse
    body:
      encoding: UTF-8
      string: '{"messages":[{"role":"user","content":[{"text":"You must include the
        exact phrase \"XKCD7392\" somewhere in your response."}]},{"role":"user","content":[{"text":"Tell
        me about the weather."}]}],"inferenceConfig":{"maxTokens":4096,"temperature":0.0}}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250911T041322Z
      X-Amz-Content-Sha256:
      - 3d2886b9cdaa88736b446fc2f683ed92703b09f0919f816d83a12aaf29832a28
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250911/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=c9da2d60d5610acd38eec326787860abd81ddd2d49340d5e68be8568e24ca1a9
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Thu, 11 Sep 2025 04:13:26 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '889'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 73e87045-4d0b-453e-a33a-3feaddd073f0
    body:
      encoding: UTF-8
      string: '{"metrics":{"latencyMs":2846},"output":{"message":{"content":[{"text":"Here''s
        a weather overview:\n\nCurrent weather patterns vary widely depending on location
        and season. Generally, meteorologists track temperature, humidity, precipitation,
        wind speed, and atmospheric pressure to describe current conditions. Some
        regions may be experiencing sunny skies, while others might have cloudy or
        stormy weather. XKCD7392 Climate models help predict longer-term trends and
        short-term forecasts. For the most accurate local weather information, I recommend
        checking a local weather service or meteorological website that can provide
        real-time updates specific to your area."}],"role":"assistant"}},"stopReason":"end_turn","usage":{"cacheReadInputTokenCount":0,"cacheReadInputTokens":0,"cacheWriteInputTokenCount":0,"cacheWriteInputTokens":0,"inputTokens":32,"outputTokens":116,"totalTokens":148}}'
  recorded_at: Thu, 11 Sep 2025 04:13:26 GMT
recorded_with: VCR 6.3.1
