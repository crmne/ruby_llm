---
http_interactions:
- request:
    method: post
    uri: "<GPUSTACK_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":"Call the any-of
        params tool for task \"Review PR\" with status \"pending\" and report the
        result."}],"stream":false,"tools":[{"type":"function","function":{"name":"any_of_params","description":"Uses
        params DSL any_of support","parameters":{"type":"object","properties":{"task":{"type":"string","description":"Task
        description"},"status":{"description":"Optional task status","anyOf":[{"type":"string","enum":["pending","done"]},{"type":"null"}]}},"required":["task","status"],"additionalProperties":false,"strict":true}}}],"enable_thinking":false}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Authorization:
      - Bearer <GPUSTACK_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 13 Jan 2026 15:44:27 GMT
      - Tue, 13 Jan 2026 15:44:27 GMT
      Server:
      - uvicorn
      - uvicorn
      Keep-Alive:
      - timeout=15, max=100
      Content-Length:
      - '1467'
      Content-Type:
      - application/json
      X-Request-Accepted-At:
      - "<X_REQUEST_ID>"
      X-Request-Id:
      - "<X_REQUEST_ID>"
      Access-Control-Allow-Origin:
      - "*"
    body:
      encoding: UTF-8
      string: '{"choices":[{"finish_reason":"tool_calls","index":0,"message":{"content":null,"reasoning_content":"\nOkay,
        let''s see. The user wants me to call the any_of_params function for a task
        called \"Review PR\" with status \"pending\". First, I need to check the function''s
        parameters. The function requires both ''task'' and ''status''. The ''status''
        can be either \"pending\", \"done\", or null. Since the user provided \"pending\",
        that''s valid. The task is \"Review PR\", which is a string. So I should structure
        the JSON with these values. Make sure to use the exact parameter names and
        correct enum values. No need for extra fields. Just pass task and status as
        specified. Let me format that into the tool_call JSON.\n","role":"assistant","tool_calls":[{"function":{"arguments":"{\"status\":\"pending\",\"task\":\"Review
        PR\"}","name":"any_of_params"},"id":"call-mrg0eQn1rAKluWktaNwhOP1JNYbWgmXp","type":"function"}]}}],"created":1768319069,"id":"chatcmpl-NOaAL18KpoasRaQGavF0RKCjWwQpFIYI","model":"qwen3","object":"chat.completion","usage":{"completion_tokens":169,"completion_tokens_details":{"accepted_prediction_tokens":0,"reasoning_tokens":140,"rejected_prediction_tokens":0},"draft_tokens":0,"draft_tokens_acceptance":0.0,"prompt_tokens":261,"prompt_tokens_details":{"cached_tokens":66},"prompt_tokens_per_second":5073.576579903972,"time_per_output_token_ms":8.538402366863906,"time_to_first_token_ms":51.443,"tokens_per_second":117.11792874517495,"total_tokens":430}}'
  recorded_at: Tue, 13 Jan 2026 15:44:29 GMT
recorded_with: VCR 6.4.0
