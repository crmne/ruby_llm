---
http_interactions:
- request:
    method: post
    uri: "<GPUSTACK_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":"Call the any-of
        params tool for task \"Review PR\" with status \"pending\" and report the
        result."}],"stream":false,"tools":[{"type":"function","function":{"name":"any_of_params","description":"Uses
        params DSL any_of support","parameters":{"type":"object","properties":{"task":{"type":"string","description":"Task
        description"},"status":{"description":"Optional task status","anyOf":[{"type":"string","enum":["pending","done"]},{"type":"null"}]}},"required":["task","status"],"additionalProperties":false,"strict":true}}}],"enable_thinking":false}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Authorization:
      - Bearer <GPUSTACK_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Fri, 09 Jan 2026 15:56:02 GMT
      - Fri, 09 Jan 2026 15:56:02 GMT
      Server:
      - uvicorn
      - uvicorn
      Keep-Alive:
      - timeout=15, max=100
      Content-Length:
      - '1626'
      Content-Type:
      - application/json
      X-Request-Accepted-At:
      - "<X_REQUEST_ID>"
      X-Request-Id:
      - "<X_REQUEST_ID>"
      Access-Control-Allow-Origin:
      - "*"
    body:
      encoding: UTF-8
      string: '{"choices":[{"finish_reason":"tool_calls","index":0,"message":{"content":null,"reasoning_content":"\nOkay,
        the user wants me to call the any_of_params function for a task called \"Review
        PR\" with status \"pending\". Let me check the function''s parameters.\n\nThe
        function requires \"task\" and \"status\". The task is given as \"Review PR\".
        The status has an enum of \"pending\" or \"done\", and it can also be null.
        Since the user specified \"pending\", that''s valid. \n\nI need to structure
        the JSON arguments with task and status. The function''s parameters are strict,
        so I must include both. No other parameters are allowed. \n\nSo the tool call
        should have name \"any_of_params\" and arguments { \"task\": \"Review PR\",
        \"status\": \"pending\" }. That should work. Let me make sure there''s no
        typo. Yep, looks good. No need for explanations, just the tool call.\n","role":"assistant","tool_calls":[{"function":{"arguments":"{\"status\":\"pending\",\"task\":\"Review
        PR\"}","name":"any_of_params"},"id":"call-6S7t4EBLlVE9IwEx245y1gBNi5yRF4cV","type":"function"}]}}],"created":1767974164,"id":"chatcmpl-WdGEWi6K23QAH6uOnUDhO8WJuSjTaQk2","model":"qwen3","object":"chat.completion","usage":{"completion_tokens":205,"completion_tokens_details":{"accepted_prediction_tokens":0,"reasoning_tokens":176,"rejected_prediction_tokens":0},"draft_tokens":0,"draft_tokens_acceptance":0.0,"prompt_tokens":261,"prompt_tokens_details":{"cached_tokens":66},"prompt_tokens_per_second":5253.623188405797,"time_per_output_token_ms":8.283990243902439,"time_to_first_token_ms":49.68,"tokens_per_second":120.71477277946646,"total_tokens":466}}'
  recorded_at: Fri, 09 Jan 2026 15:56:04 GMT
recorded_with: VCR 6.4.0
