---
http_interactions:
- request:
    method: post
    uri: https://api.cohere.ai/v2/chat
    body:
      encoding: UTF-8
      string: '{"model":"command-a-03-2025","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]}],"temperature":0.7,"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.13.1
      Authorization:
      - Bearer <COHERE_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Access-Control-Expose-Headers:
      - X-Debug-Trace-ID
      Cache-Control:
      - no-cache, no-store, no-transform, must-revalidate, private, max-age=0
      Content-Type:
      - application/json
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Num-Chars:
      - '2668'
      Num-Tokens:
      - '85'
      Pragma:
      - no-cache
      Vary:
      - Origin
      X-Accel-Expires:
      - '0'
      X-Debug-Trace-Id:
      - cee1f41258bc0503909ac8273f314553
      Date:
      - Fri, 18 Jul 2025 06:07:24 GMT
      Content-Length:
      - '483'
      X-Envoy-Upstream-Service-Time:
      - '638'
      Server:
      - envoy
      Via:
      - 1.1 google
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
    body:
      encoding: UTF-8
      string: '{"id":"8d37a154-1216-4eb5-ad86-072a739f570b","message":{"role":"assistant","content":[{"type":"text","text":"The
        file `ruby.txt` contains the following text:\n\n**\"Ruby is the best.\"**\n\nIt''s
        a plain text file (as indicated by the `text/plain` MIME type) with a simple
        statement expressing admiration for the Ruby programming language."}]},"finish_reason":"COMPLETE","usage":{"billed_units":{"input_tokens":30,"output_tokens":55},"tokens":{"input_tokens":525,"output_tokens":57}}}'
  recorded_at: Fri, 18 Jul 2025 06:07:24 GMT
- request:
    method: post
    uri: https://api.cohere.ai/v2/chat
    body:
      encoding: UTF-8
      string: '{"model":"command-a-03-2025","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]},{"role":"assistant","content":[{"type":"text","text":"The
        file `ruby.txt` contains the following text:\n\n**\"Ruby is the best.\"**\n\nIt''s
        a plain text file (as indicated by the `text/plain` MIME type) with a simple
        statement expressing admiration for the Ruby programming language."}]},{"role":"user","content":[{"type":"text","text":"and
        in this one?"},{"type":"text","text":"<file name=''ruby.xml'' mime_type=''application/xml''><truism>Ruby
        is the best</truism></file>"}]}],"temperature":0.7,"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.13.1
      Authorization:
      - Bearer <COHERE_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Access-Control-Expose-Headers:
      - X-Debug-Trace-ID
      Cache-Control:
      - no-cache, no-store, no-transform, must-revalidate, private, max-age=0
      Content-Type:
      - application/json
      Expires:
      - Thu, 01 Jan 1970 00:00:00 GMT
      Num-Chars:
      - '3151'
      Num-Tokens:
      - '221'
      Pragma:
      - no-cache
      Vary:
      - Origin
      X-Accel-Expires:
      - '0'
      X-Debug-Trace-Id:
      - bb9c50c325f2ff4eb678984107d14f6c
      Date:
      - Fri, 18 Jul 2025 06:07:26 GMT
      Content-Length:
      - '683'
      X-Envoy-Upstream-Service-Time:
      - '2208'
      Server:
      - envoy
      Via:
      - 1.1 google
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
    body:
      encoding: UTF-8
      string: '{"id":"0aebf98f-682f-4a60-aa25-30602f1d2c83","message":{"role":"assistant","content":[{"type":"text","text":"The
        file `ruby.xml` is an XML file (as indicated by the `application/xml` MIME
        type) and contains the following structured data:\n\n```xml\n\u003ctruism\u003eRuby
        is the best\u003c/truism\u003e\n```\n\nHere, the text **\"Ruby is the best\"**
        is enclosed within a custom XML tag `\u003ctruism\u003e`, which suggests that
        the statement is being treated as a truism or a self-evident truth within
        the context of the XML document."}]},"finish_reason":"COMPLETE","usage":{"billed_units":{"input_tokens":120,"output_tokens":101},"tokens":{"input_tokens":623,"output_tokens":103}}}'
  recorded_at: Fri, 18 Jul 2025 06:07:27 GMT
recorded_with: VCR 6.3.1
