---
http_interactions:
- request:
    method: post
    uri: https://api.cohere.ai/v2/chat
    body:
      encoding: UTF-8
      string: '{"model":"command-a-03-2025","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]}],"temperature":0.7,"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.13.1
      Authorization:
      - Bearer <COHERE_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Access-Control-Expose-Headers:
      - X-Debug-Trace-ID
      Cache-Control:
      - no-cache, no-store, no-transform, must-revalidate, private, max-age=0
      Content-Type:
      - application/json
      Expires:
      - Thu, 01 Jan 1970 00:00:00 UTC
      Num-Chars:
      - '2668'
      Num-Tokens:
      - '85'
      Pragma:
      - no-cache
      Vary:
      - Origin
      X-Accel-Expires:
      - '0'
      X-Debug-Trace-Id:
      - cffceb8d37c2c63deedea821c7423e71
      Date:
      - Mon, 07 Jul 2025 00:36:10 GMT
      Content-Length:
      - '483'
      X-Envoy-Upstream-Service-Time:
      - '536'
      Server:
      - envoy
      Via:
      - 1.1 google
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
    body:
      encoding: UTF-8
      string: '{"id":"fed08938-9350-4a52-8318-1c9d97837501","message":{"role":"assistant","content":[{"type":"text","text":"The
        file `ruby.txt` contains the following text:\n\n**\"Ruby is the best.\"**\n\nIt''s
        a plain text file (as indicated by the `text/plain` MIME type) with a simple
        statement expressing admiration for the Ruby programming language."}]},"finish_reason":"COMPLETE","usage":{"billed_units":{"input_tokens":30,"output_tokens":55},"tokens":{"input_tokens":525,"output_tokens":57}}}'
  recorded_at: Mon, 07 Jul 2025 00:36:10 GMT
- request:
    method: post
    uri: https://api.cohere.ai/v2/chat
    body:
      encoding: UTF-8
      string: '{"model":"command-a-03-2025","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]},{"role":"assistant","content":[{"type":"text","text":"The
        file `ruby.txt` contains the following text:\n\n**\"Ruby is the best.\"**\n\nIt''s
        a plain text file (as indicated by the `text/plain` MIME type) with a simple
        statement expressing admiration for the Ruby programming language."}]},{"role":"user","content":[{"type":"text","text":"and
        in this one?"},{"type":"text","text":"<file name=''ruby.xml'' mime_type=''application/xml''><truism>Ruby
        is the best</truism></file>"}]}],"temperature":0.7,"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.13.1
      Authorization:
      - Bearer <COHERE_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Access-Control-Expose-Headers:
      - X-Debug-Trace-ID
      Cache-Control:
      - no-cache, no-store, no-transform, must-revalidate, private, max-age=0
      Content-Type:
      - application/json
      Expires:
      - Thu, 01 Jan 1970 00:00:00 UTC
      Num-Chars:
      - '3151'
      Num-Tokens:
      - '228'
      Pragma:
      - no-cache
      Vary:
      - Origin
      X-Accel-Expires:
      - '0'
      X-Debug-Trace-Id:
      - 8cdf677984b60883ef6ecb31afaa3f71
      Date:
      - Mon, 07 Jul 2025 00:36:11 GMT
      Content-Length:
      - '724'
      X-Envoy-Upstream-Service-Time:
      - '821'
      Server:
      - envoy
      Via:
      - 1.1 google
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
    body:
      encoding: UTF-8
      string: '{"id":"2c3d7391-ce7d-4f94-a83e-ecdd8ccde9cd","message":{"role":"assistant","content":[{"type":"text","text":"The
        file `ruby.xml` is an XML file (as indicated by the `application/xml` MIME
        type) and contains the following structured data:\n\n```xml\n\u003ctruism\u003eRuby
        is the best\u003c/truism\u003e\n```\n\nHere, the text **\"Ruby is the best\"**
        is enclosed within a custom XML tag `\u003ctruism\u003e`. This structure allows
        the statement to be treated as a specific type of content, such as a universal
        truth or axiom, depending on the context in which the XML is used."}]},"finish_reason":"COMPLETE","usage":{"billed_units":{"input_tokens":120,"output_tokens":108},"tokens":{"input_tokens":623,"output_tokens":110}}}'
  recorded_at: Mon, 07 Jul 2025 00:36:11 GMT
recorded_with: VCR 6.3.1
