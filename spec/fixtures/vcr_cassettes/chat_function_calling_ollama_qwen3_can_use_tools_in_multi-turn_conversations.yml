---
http_interactions:
- request:
    method: post
    uri: "<OLLAMA_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":"What''s the
        weather in Berlin? (52.5200, 13.4050)"}],"stream":false,"tools":[{"type":"function","function":{"name":"weather","description":"Gets
        current weather for a location","parameters":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"],"additionalProperties":false,"strict":true}}}],"enable_thinking":false}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Date:
      - Thu, 30 Oct 2025 13:40:45 GMT
      Content-Length:
      - '952'
    body:
      encoding: UTF-8
      string: '{"id":"chatcmpl-547","object":"chat.completion","created":1761831645,"model":"qwen3","system_fingerprint":"fp_ollama","choices":[{"index":0,"message":{"role":"assistant","content":"\u003cthink\u003e\nOkay,
        the user is asking for the weather in Berlin, and they provided the coordinates
        52.5200 latitude and 13.4050 longitude. I need to use the weather function
        to get the current weather for that location. Let me check the function parameters.
        The function requires latitude and longitude as strings. The user provided
        both, so I''ll format them into the tool call. Make sure the JSON keys are
        correct and the values are strings. Alright, that should do it.\n\u003c/think\u003e\n\n","tool_calls":[{"id":"call_gp0g5wvg","index":0,"type":"function","function":{"name":"weather","arguments":"{\"latitude\":\"52.5200\",\"longitude\":\"13.4050\"}"}}]},"finish_reason":"tool_calls"}],"usage":{"prompt_tokens":200,"completion_tokens":145,"total_tokens":345}}

        '
  recorded_at: Thu, 30 Oct 2025 13:40:45 GMT
- request:
    method: post
    uri: "<OLLAMA_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":"What''s the
        weather in Berlin? (52.5200, 13.4050)"},{"role":"assistant","content":"<think>\nOkay,
        the user is asking for the weather in Berlin, and they provided the coordinates
        52.5200 latitude and 13.4050 longitude. I need to use the weather function
        to get the current weather for that location. Let me check the function parameters.
        The function requires latitude and longitude as strings. The user provided
        both, so I''ll format them into the tool call. Make sure the JSON keys are
        correct and the values are strings. Alright, that should do it.\n</think>\n\n","tool_calls":[{"id":"call_gp0g5wvg","type":"function","function":{"name":"weather","arguments":"{\"latitude\":\"52.5200\",\"longitude\":\"13.4050\"}"}}]},{"role":"tool","content":"Current
        weather at 52.5200, 13.4050: 15°C, Wind: 10 km/h","tool_call_id":"call_gp0g5wvg"}],"stream":false,"tools":[{"type":"function","function":{"name":"weather","description":"Gets
        current weather for a location","parameters":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"],"additionalProperties":false,"strict":true}}}],"enable_thinking":false}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Date:
      - Thu, 30 Oct 2025 13:40:45 GMT
      Content-Length:
      - '401'
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        eyJpZCI6ImNoYXRjbXBsLTgyIiwib2JqZWN0IjoiY2hhdC5jb21wbGV0aW9uIiwiY3JlYXRlZCI6MTc2MTgzMTY0NSwibW9kZWwiOiJxd2VuMyIsInN5c3RlbV9maW5nZXJwcmludCI6ImZwX29sbGFtYSIsImNob2ljZXMiOlt7ImluZGV4IjowLCJtZXNzYWdlIjp7InJvbGUiOiJhc3Npc3RhbnQiLCJjb250ZW50IjoiXHUwMDNjdGhpbmtcdTAwM2Vcblx1MDAzYy90aGlua1x1MDAzZVxuXG5UaGUgY3VycmVudCB3ZWF0aGVyIGluIEJlcmxpbiAoNTIuNTIwMCwgMTMuNDA1MCkgaXMgMTXCsEMgd2l0aCB3aW5kIGF0IDEwIGttL2guIn0sImZpbmlzaF9yZWFzb24iOiJzdG9wIn1dLCJ1c2FnZSI6eyJwcm9tcHRfdG9rZW5zIjozNTUsImNvbXBsZXRpb25fdG9rZW5zIjo0MiwidG90YWxfdG9rZW5zIjozOTd9fQo=
  recorded_at: Thu, 30 Oct 2025 13:40:45 GMT
- request:
    method: post
    uri: "<OLLAMA_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":"What''s the
        weather in Berlin? (52.5200, 13.4050)"},{"role":"assistant","content":"<think>\nOkay,
        the user is asking for the weather in Berlin, and they provided the coordinates
        52.5200 latitude and 13.4050 longitude. I need to use the weather function
        to get the current weather for that location. Let me check the function parameters.
        The function requires latitude and longitude as strings. The user provided
        both, so I''ll format them into the tool call. Make sure the JSON keys are
        correct and the values are strings. Alright, that should do it.\n</think>\n\n","tool_calls":[{"id":"call_gp0g5wvg","type":"function","function":{"name":"weather","arguments":"{\"latitude\":\"52.5200\",\"longitude\":\"13.4050\"}"}}]},{"role":"tool","content":"Current
        weather at 52.5200, 13.4050: 15°C, Wind: 10 km/h","tool_call_id":"call_gp0g5wvg"},{"role":"assistant","content":"<think>\n</think>\n\nThe
        current weather in Berlin (52.5200, 13.4050) is 15°C with wind at 10 km/h."},{"role":"user","content":"What''s
        the weather in Paris? (48.8575, 2.3514)"}],"stream":false,"tools":[{"type":"function","function":{"name":"weather","description":"Gets
        current weather for a location","parameters":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"],"additionalProperties":false,"strict":true}}}],"enable_thinking":false}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Date:
      - Thu, 30 Oct 2025 13:40:47 GMT
      Content-Length:
      - '1025'
    body:
      encoding: UTF-8
      string: '{"id":"chatcmpl-737","object":"chat.completion","created":1761831647,"model":"qwen3","system_fingerprint":"fp_ollama","choices":[{"index":0,"message":{"role":"assistant","content":"\u003cthink\u003e\nOkay,
        the user is asking for the weather in Paris with the coordinates 48.8575,
        2.3514. I need to check if I have the right tool for that. The available tool
        is the weather function, which requires latitude and longitude. The parameters
        are strings, so I should format the arguments correctly. Let me make sure
        to use the exact parameter names and provide the coordinates as strings. The
        previous example used Berlin''s coordinates, so I''ll follow the same structure.
        I''ll call the weather function with the given Paris coordinates.\n\u003c/think\u003e\n\n","tool_calls":[{"id":"call_dmzg3lqp","index":0,"type":"function","function":{"name":"weather","arguments":"{\"latitude\":\"48.8575\",\"longitude\":\"2.3514\"}"}}]},"finish_reason":"tool_calls"}],"usage":{"prompt_tokens":318,"completion_tokens":156,"total_tokens":474}}

        '
  recorded_at: Thu, 30 Oct 2025 13:40:47 GMT
- request:
    method: post
    uri: "<OLLAMA_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":"What''s the
        weather in Berlin? (52.5200, 13.4050)"},{"role":"assistant","content":"<think>\nOkay,
        the user is asking for the weather in Berlin, and they provided the coordinates
        52.5200 latitude and 13.4050 longitude. I need to use the weather function
        to get the current weather for that location. Let me check the function parameters.
        The function requires latitude and longitude as strings. The user provided
        both, so I''ll format them into the tool call. Make sure the JSON keys are
        correct and the values are strings. Alright, that should do it.\n</think>\n\n","tool_calls":[{"id":"call_gp0g5wvg","type":"function","function":{"name":"weather","arguments":"{\"latitude\":\"52.5200\",\"longitude\":\"13.4050\"}"}}]},{"role":"tool","content":"Current
        weather at 52.5200, 13.4050: 15°C, Wind: 10 km/h","tool_call_id":"call_gp0g5wvg"},{"role":"assistant","content":"<think>\n</think>\n\nThe
        current weather in Berlin (52.5200, 13.4050) is 15°C with wind at 10 km/h."},{"role":"user","content":"What''s
        the weather in Paris? (48.8575, 2.3514)"},{"role":"assistant","content":"<think>\nOkay,
        the user is asking for the weather in Paris with the coordinates 48.8575,
        2.3514. I need to check if I have the right tool for that. The available tool
        is the weather function, which requires latitude and longitude. The parameters
        are strings, so I should format the arguments correctly. Let me make sure
        to use the exact parameter names and provide the coordinates as strings. The
        previous example used Berlin''s coordinates, so I''ll follow the same structure.
        I''ll call the weather function with the given Paris coordinates.\n</think>\n\n","tool_calls":[{"id":"call_dmzg3lqp","type":"function","function":{"name":"weather","arguments":"{\"latitude\":\"48.8575\",\"longitude\":\"2.3514\"}"}}]},{"role":"tool","content":"Current
        weather at 48.8575, 2.3514: 15°C, Wind: 10 km/h","tool_call_id":"call_dmzg3lqp"}],"stream":false,"tools":[{"type":"function","function":{"name":"weather","description":"Gets
        current weather for a location","parameters":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"],"additionalProperties":false,"strict":true}}}],"enable_thinking":false}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Date:
      - Thu, 30 Oct 2025 13:40:49 GMT
      Content-Length:
      - '1069'
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        eyJpZCI6ImNoYXRjbXBsLTMyNiIsIm9iamVjdCI6ImNoYXQuY29tcGxldGlvbiIsImNyZWF0ZWQiOjE3NjE4MzE2NDksIm1vZGVsIjoicXdlbjMiLCJzeXN0ZW1fZmluZ2VycHJpbnQiOiJmcF9vbGxhbWEiLCJjaG9pY2VzIjpbeyJpbmRleCI6MCwibWVzc2FnZSI6eyJyb2xlIjoiYXNzaXN0YW50IiwiY29udGVudCI6Ilx1MDAzY3RoaW5rXHUwMDNlXG5Pa2F5LCB0aGUgdXNlciBhc2tlZCBmb3IgdGhlIHdlYXRoZXIgaW4gUGFyaXMgd2l0aCBjb29yZGluYXRlcyA0OC44NTc1LCAyLjM1MTQuIEkgY2FsbGVkIHRoZSB3ZWF0aGVyIGZ1bmN0aW9uIHdpdGggdGhvc2UgcGFyYW1ldGVycyBhbmQgZ290IHRoZSByZXNwb25zZTogMTXCsEMsIFdpbmQ6IDEwIGttL2guIE5vdyBJIG5lZWQgdG8gcHJlc2VudCB0aGlzIGluZm9ybWF0aW9uIGNsZWFybHkuIExldCBtZSBjaGVjayBpZiB0aGUgcmVzcG9uc2UgZm9ybWF0IGlzIGNvbnNpc3RlbnQgd2l0aCB0aGUgcHJldmlvdXMgYW5zd2VyIGZvciBCZXJsaW4uIFRoZSB1c2VyIG1pZ2h0IGV4cGVjdCBhIHNpbWlsYXIgc3RydWN0dXJlLiBJJ2xsIG1lbnRpb24gdGhlIHRlbXBlcmF0dXJlIGFuZCB3aW5kIHNwZWVkLCBtYWtpbmcgc3VyZSB0byBub3RlIHRoYXQgdGhlIGNvb3JkaW5hdGVzIHdlcmUgcHJvdmlkZWQuIEFsc28sIHNpbmNlIHRoZSB0ZW1wZXJhdHVyZXMgYW5kIHdpbmQgc3BlZWRzIGFyZSB0aGUgc2FtZSBhcyBCZXJsaW4sIG1heWJlIHRoZSB1c2VyIGlzIGNvbXBhcmluZyBjaXRpZXM/IEJ1dCBJIHNob3VsZCBqdXN0IHN0aWNrIHRvIHJlcG9ydGluZyB0aGUgZGF0YSBhY2N1cmF0ZWx5LiBBbHJpZ2h0LCB0aGUgcmVzcG9uc2Ugc2hvdWxkIGJlIHN0cmFpZ2h0Zm9yd2FyZC5cblx1MDAzYy90aGlua1x1MDAzZVxuXG5UaGUgY3VycmVudCB3ZWF0aGVyIGluIFBhcmlzICg0OC44NTc1LCAyLjM1MTQpIGlzIDE1wrBDIHdpdGggd2luZCBhdCAxMCBrbS9oLiJ9LCJmaW5pc2hfcmVhc29uIjoic3RvcCJ9XSwidXNhZ2UiOnsicHJvbXB0X3Rva2VucyI6NDg0LCJjb21wbGV0aW9uX3Rva2VucyI6MTg4LCJ0b3RhbF90b2tlbnMiOjY3Mn19Cg==
  recorded_at: Thu, 30 Oct 2025 13:40:49 GMT
recorded_with: VCR 6.3.1
