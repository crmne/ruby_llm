---
http_interactions:
  - request:
      method: post
      uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/converse
      body:
        encoding: UTF-8
        string:
          '{"messages":[{"role":"user","content":[{"text":"You must include the
          exact phrase \"XKCD7392\" somewhere in your response."}]},{"role":"user","content":[{"text":"Tell
          me about the weather."}]}],"inferenceConfig":{"maxTokens":4096,"temperature":0.0}}'
      headers:
        User-Agent:
          - Faraday v2.13.4
        Host:
          - bedrock-runtime.<AWS_REGION>.amazonaws.com
        X-Amz-Date:
          - 20250911T041326Z
        X-Amz-Content-Sha256:
          - 3d2886b9cdaa88736b446fc2f683ed92703b09f0919f816d83a12aaf29832a28
        Authorization:
          - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250911/<AWS_REGION>/bedrock/aws4_request,
            SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=8b550ff596733c1d00a6be0ed0d9370c26138428c5b4489afb68f324a5705f3f
        Content-Type:
          - application/json
        Accept:
          - application/json
        Accept-Encoding:
          - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
    response:
      status:
        code: 200
        message: OK
      headers:
        Date:
          - Thu, 11 Sep 2025 04:13:30 GMT
        Content-Type:
          - application/json
        Content-Length:
          - "889"
        Connection:
          - keep-alive
        X-Amzn-Requestid:
          - c18fae25-a4d7-413b-806f-cc517638f144
      body:
        encoding: UTF-8
        string:
          '{"metrics":{"latencyMs":2831},"output":{"message":{"content":[{"text":"Here''s
          a weather overview:\n\nCurrent weather patterns vary widely depending on location
          and season. Generally, meteorologists track temperature, humidity, precipitation,
          wind speed, and atmospheric pressure to describe current conditions. Some
          regions may be experiencing sunny skies, while others might have cloudy or
          stormy weather. XKCD7392 Climate models help predict longer-term trends and
          short-term forecasts. For the most accurate local weather information, I recommend
          checking a local weather service or meteorological website that can provide
          real-time updates specific to your area."}],"role":"assistant"}},"stopReason":"end_turn","usage":{"cacheReadInputTokenCount":0,"cacheReadInputTokens":0,"cacheWriteInputTokenCount":0,"cacheWriteInputTokens":0,"inputTokens":32,"outputTokens":116,"totalTokens":148}}'
    recorded_at: Thu, 11 Sep 2025 04:13:29 GMT
  - request:
      method: post
      uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/converse
      body:
        encoding: UTF-8
        string:
          '{"messages":[{"role":"user","content":[{"text":"You must include the
          exact phrase \"PURPLE-ELEPHANT-42\" somewhere in your response."}]},{"role":"user","content":[{"text":"Tell
          me about the weather."}]},{"role":"assistant","content":[{"text":"Here''s
          a weather overview:\n\nCurrent weather patterns vary widely depending on location
          and season. Generally, meteorologists track temperature, humidity, precipitation,
          wind speed, and atmospheric pressure to describe current conditions. Some
          regions may be experiencing sunny skies, while others might have cloudy or
          stormy weather. XKCD7392 Climate models help predict longer-term trends and
          short-term forecasts. For the most accurate local weather information, I recommend
          checking a local weather service or meteorological website that can provide
          real-time updates specific to your area."}]},{"role":"user","content":[{"text":"What
          are some good books?"}]}],"inferenceConfig":{"maxTokens":4096,"temperature":0.0}}'
      headers:
        User-Agent:
          - Faraday v2.13.4
        Host:
          - bedrock-runtime.<AWS_REGION>.amazonaws.com
        X-Amz-Date:
          - 20250911T041329Z
        X-Amz-Content-Sha256:
          - 56bf5222473cb69a43fc115c91f386db218c1782f6ec2e8f461f6108d5ddd45d
        Authorization:
          - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250911/<AWS_REGION>/bedrock/aws4_request,
            SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=e7f0b62a26c7060a844711c01d6393c47dad50e3a8f39083f824f0ac4b04758e
        Content-Type:
          - application/json
        Accept:
          - application/json
        Accept-Encoding:
          - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
    response:
      status:
        code: 200
        message: OK
      headers:
        Date:
          - Thu, 11 Sep 2025 04:13:34 GMT
        Content-Type:
          - application/json
        Content-Length:
          - "1255"
        Connection:
          - keep-alive
        X-Amzn-Requestid:
          - b79659ab-a1a2-4f10-a05d-5018237985fc
      body:
        encoding: UTF-8
        string:
          '{"metrics":{"latencyMs":4252},"output":{"message":{"content":[{"text":"Here
          are some book recommendations across different genres:\n\nFiction:\n1. \"To
          Kill a Mockingbird\" by Harper Lee\n2. \"1984\" by George Orwell\n3. \"The
          Name of the Wind\" by Patrick Rothfuss\n4. \"The Great Gatsby\" by F. Scott
          Fitzgerald\n\nNon-Fiction:\n1. \"Sapiens\" by Yuval Noah Harari\n2. \"Into
          Thin Air\" by Jon Krakauer\n3. \"The Immortal Life of Henrietta Lacks\" by
          Rebecca Skloot\n\nScience Fiction:\n1. \"Dune\" by Frank Herbert\n2. \"The
          Hitchhiker''s Guide to the Galaxy\" by Douglas Adams\n3. \"Neuromancer\" by
          William Gibson\n\nMystery/Thriller:\n1. \"Gone Girl\" by Gillian Flynn\n2.
          \"The Girl with the Dragon Tattoo\" by Stieg Larsson\n\nClassic Literature:\n1.
          \"Pride and Prejudice\" by Jane Austen\n2. \"Crime and Punishment\" by Fyodor
          Dostoevsky\n\nPURPLE-ELEPHANT-42 These recommendations span various styles
          and interests, so there''s likely something for everyone. The best book often
          depends on personal taste and current mood."}],"role":"assistant"}},"stopReason":"end_turn","usage":{"cacheReadInputTokenCount":0,"cacheReadInputTokens":0,"cacheWriteInputTokenCount":0,"cacheWriteInputTokens":0,"inputTokens":158,"outputTokens":288,"totalTokens":446}}'
    recorded_at: Thu, 11 Sep 2025 04:13:34 GMT
recorded_with: VCR 6.3.1
