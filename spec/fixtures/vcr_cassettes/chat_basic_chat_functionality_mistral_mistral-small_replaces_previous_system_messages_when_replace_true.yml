---
http_interactions:
- request:
    method: post
    uri: https://api.mistral.ai/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"mistral-small","messages":[{"role":"system","content":"You
        must include the exact phrase \"XKCD7392\" somewhere in your response."},{"role":"user","content":"Tell
        me about the weather."}],"temperature":0.0,"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.12.2
      Authorization:
      - Bearer <MISTRAL_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 27 Apr 2025 10:36:21 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      X-Ratelimitbysize-Remaining-Month:
      - '9999967978'
      Ratelimitbysize-Remaining:
      - '1967978'
      X-Ratelimitbysize-Limit-Minute:
      - '2000000'
      X-Ratelimitbysize-Remaining-Minute:
      - '1967978'
      Ratelimitbysize-Reset:
      - '41'
      Ratelimitbysize-Limit:
      - '2000000'
      Ratelimitbysize-Query-Cost:
      - '32022'
      X-Ratelimitbysize-Limit-Month:
      - '10000000000'
      X-Envoy-Upstream-Service-Time:
      - '1773'
      Access-Control-Allow-Origin:
      - "*"
      X-Kong-Upstream-Latency:
      - '1774'
      X-Kong-Proxy-Latency:
      - '9'
      X-Kong-Request-Id:
      - 4f79273ce9cacb02301c2e2563991535
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - "<COOKIE>"
      - "<COOKIE>"
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: '{"id":"07f5c596d67d45dab4bf3636e56910e7","object":"chat.completion","created":1745750179,"model":"mistral-small","choices":[{"index":0,"message":{"role":"assistant","tool_calls":null,"content":"I''m
        an artificial intelligence and do not have the ability to experience the weather
        directly. However, I can provide you with current weather conditions for many
        locations around the world.\n\nAs for the phrase \"XKCD7392\", I''m assuming
        you''re referring to the xkcd comic with that number. The comic strip xkcd,
        created by Randall Munroe, often features stick figures and explores various
        scientific and technical topics in a humorous way. Unfortunately, there is
        no xkcd comic with the number 7392, as the highest numbered comic as of now
        is 2418. I''m glad you gave me the opportunity to bring up xkcd though, as
        it''s a great webcomic that many people enjoy!"},"finish_reason":"stop"}],"usage":{"prompt_tokens":36,"total_tokens":202,"completion_tokens":166}}'
  recorded_at: Sun, 27 Apr 2025 10:36:21 GMT
- request:
    method: post
    uri: https://api.mistral.ai/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"mistral-small","messages":[{"role":"user","content":"Tell
        me about the weather."},{"role":"assistant","content":"I''m an artificial
        intelligence and do not have the ability to experience the weather directly.
        However, I can provide you with current weather conditions for many locations
        around the world.\n\nAs for the phrase \"XKCD7392\", I''m assuming you''re
        referring to the xkcd comic with that number. The comic strip xkcd, created
        by Randall Munroe, often features stick figures and explores various scientific
        and technical topics in a humorous way. Unfortunately, there is no xkcd comic
        with the number 7392, as the highest numbered comic as of now is 2418. I''m
        glad you gave me the opportunity to bring up xkcd though, as it''s a great
        webcomic that many people enjoy!"},{"role":"system","content":"You must include
        the exact phrase \"PURPLE-ELEPHANT-42\" somewhere in your response."},{"role":"user","content":"What
        are some good books?"}],"temperature":0.0,"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.12.2
      Authorization:
      - Bearer <MISTRAL_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 400
      message: Bad Request
    headers:
      Date:
      - Sun, 27 Apr 2025 10:36:21 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '134'
      Connection:
      - keep-alive
      X-Ratelimitbysize-Remaining-Month:
      - '9999967817'
      Ratelimitbysize-Reset:
      - '39'
      X-Ratelimitbysize-Limit-Month:
      - '10000000000'
      X-Ratelimitbysize-Limit-Minute:
      - '2000000'
      X-Ratelimitbysize-Remaining-Minute:
      - '1967817'
      Ratelimitbysize-Query-Cost:
      - '32183'
      Ratelimitbysize-Limit:
      - '2000000'
      Ratelimitbysize-Remaining:
      - '1967817'
      X-Envoy-Upstream-Service-Time:
      - '44'
      Access-Control-Allow-Origin:
      - "*"
      X-Kong-Upstream-Latency:
      - '45'
      X-Kong-Proxy-Latency:
      - '7'
      X-Kong-Request-Id:
      - f1f33711ffc91f240ce4982fccabd435
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - "<COOKIE>"
      - "<COOKIE>"
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: UTF-8
      string: '{"object":"error","message":"Unexpected role ''system'' after role
        ''assistant''","type":"invalid_request_error","param":null,"code":null}'
  recorded_at: Sun, 27 Apr 2025 10:36:21 GMT
recorded_with: VCR 6.3.1
