---
http_interactions:
- request:
    method: post
    uri: https://api.perplexity.ai/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"sonar","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Authorization:
      - Bearer <PERPLEXITY_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 20 Aug 2025 17:03:44 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - "<COOKIE>"
      Strict-Transport-Security:
      - max-age=15552000; includeSubDomains; preload
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id": "fccf0374-f738-4bae-bbe6-2924d2de84c6", "model": "sonar", "created":
        1755709424, "usage": {"prompt_tokens": 25, "completion_tokens": 133, "total_tokens":
        158, "search_context_size": "low", "cost": {"input_tokens_cost": 0.0, "output_tokens_cost":
        0.0, "request_cost": 0.005, "total_cost": 0.005}}, "citations": ["https://www.tutorialspoint.com/ruby/ruby_overview.htm",
        "https://www.rubyguides.com/2015/05/working-with-files-ruby/", "https://en.wikipedia.org/wiki/Ruby_(programming_language)",
        "https://github.com/mime-types/ruby-mime-types", "https://www.oracle.com/developer/what-is-ruby-for-developers/"],
        "search_results": [{"title": "Ruby - Overview - Tutorialspoint", "url": "https://www.tutorialspoint.com/ruby/ruby_overview.htm",
        "date": "2019-03-01", "last_updated": "2025-08-19"}, {"title": "How To Read
        & Write Files in Ruby (With Examples) - RubyGuides", "url": "https://www.rubyguides.com/2015/05/working-with-files-ruby/",
        "date": null, "last_updated": "2025-07-30"}, {"title": "Ruby (programming
        language) - Wikipedia", "url": "https://en.wikipedia.org/wiki/Ruby_(programming_language)",
        "date": "2001-10-17", "last_updated": "2025-08-20"}, {"title": "Ruby MIME
        type registry library - GitHub", "url": "https://github.com/mime-types/ruby-mime-types",
        "date": "2019-11-03", "last_updated": "2025-06-03"}, {"title": "What is Ruby?
        - Oracle", "url": "https://www.oracle.com/developer/what-is-ruby-for-developers/",
        "date": "2024-06-10", "last_updated": "2025-06-15"}], "object": "chat.completion",
        "choices": [{"index": 0, "finish_reason": "stop", "message": {"role": "assistant",
        "content": "The file named \"ruby.txt\" contains the simple text: **\"Ruby
        is the best.\"**\n\nThis is a short statement expressing a positive opinion
        about the Ruby programming language.\n\nFor context, Ruby is a general-purpose,
        open-source, interpreted, object-oriented programming language created by
        Yukihiro Matsumoto in the mid-1990s. It has a clean and easy syntax, is dynamically
        typed, and supports multiple programming paradigms like procedural, object-oriented,
        and functional programming. It is widely used in web development, notably
        with the Ruby on Rails framework, and is also effective in automation, scripting,
        and data processing[1][3][5]."}, "delta": {"role": "assistant", "content":
        ""}}]}'
  recorded_at: Wed, 20 Aug 2025 17:03:44 GMT
- request:
    method: post
    uri: https://api.perplexity.ai/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"sonar","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]},{"role":"assistant","content":"The file named \"ruby.txt\"
        contains the simple text: **\"Ruby is the best.\"**\n\nThis is a short statement
        expressing a positive opinion about the Ruby programming language.\n\nFor
        context, Ruby is a general-purpose, open-source, interpreted, object-oriented
        programming language created by Yukihiro Matsumoto in the mid-1990s. It has
        a clean and easy syntax, is dynamically typed, and supports multiple programming
        paradigms like procedural, object-oriented, and functional programming. It
        is widely used in web development, notably with the Ruby on Rails framework,
        and is also effective in automation, scripting, and data processing[1][3][5]."},{"role":"user","content":[{"type":"text","text":"and
        in this one?"},{"type":"text","text":"<file name=''ruby.xml'' mime_type=''application/xml''><truism>Ruby
        is the best</truism></file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Authorization:
      - Bearer <PERPLEXITY_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 20 Aug 2025 17:03:48 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - "<COOKIE>"
      Strict-Transport-Security:
      - max-age=15552000; includeSubDomains; preload
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id": "12b36140-3ab6-47b0-8270-97d6d56cdac2", "model": "sonar", "created":
        1755709428, "usage": {"prompt_tokens": 188, "completion_tokens": 163, "total_tokens":
        351, "search_context_size": "low", "cost": {"input_tokens_cost": 0.0, "output_tokens_cost":
        0.0, "request_cost": 0.005, "total_cost": 0.005}}, "citations": ["https://www.liquid-technologies.com/xml-schema-tutorial/xsd-elements-attributes",
        "https://learn.microsoft.com/en-us/previous-versions/dotnet/netframework-4.0/ms256118(v=vs.100)",
        "https://www.w3.org/TR/xmlschema-2/", "https://help.1e.com/SDK/en/instruction-definition-xml-elements.html",
        "https://cs.gmu.edu/~aabduraz/classes/642/Resources/XML-types.html"], "search_results":
        [{"title": "XML Schema Tutorial - Defining Elements and Attributes", "url":
        "https://www.liquid-technologies.com/xml-schema-tutorial/xsd-elements-attributes",
        "date": "2000-01-12", "last_updated": "2025-04-10"}, {"title": "<xsd:element>
        Element", "url": "https://learn.microsoft.com/en-us/previous-versions/dotnet/netframework-4.0/ms256118(v=vs.100)",
        "date": "2011-02-20", "last_updated": "2025-08-14"}, {"title": "XML Schema
        Part 2: Datatypes Second Edition", "url": "https://www.w3.org/TR/xmlschema-2/",
        "date": "2004-10-28", "last_updated": "2025-06-16"}, {"title": "Instruction
        Definition XML elements", "url": "https://help.1e.com/SDK/en/instruction-definition-xml-elements.html",
        "date": null, "last_updated": "2025-08-07"}, {"title": "Defining XML Elements
        and Their Types in XML Schema", "url": "https://cs.gmu.edu/~aabduraz/classes/642/Resources/XML-types.html",
        "date": null, "last_updated": "2025-08-16"}], "object": "chat.completion",
        "choices": [{"index": 0, "finish_reason": "stop", "message": {"role": "assistant",
        "content": "The file named \"ruby.xml\" contains XML content with a single
        element `<truism>` whose value is **\"Ruby is the best\"**. This structure
        looks like this:\n\n```xml\n<truism>Ruby is the best</truism>\n```\n\nThis
        means the file stores the statement \"Ruby is the best\" inside an XML element
        named `<truism>`.\n\nIn XML, elements like `<truism>` are the primary building
        blocks, which can contain text data, other elements, or attributes. Here,
        `<truism>` is a simple element containing simple text content[1]. The text
        \"Ruby is the best\" is the content of this element, just like the plain text
        file but wrapped in XML tags, which can be used for data structuring and processing
        purposes[1][5]."}, "delta": {"role": "assistant", "content": ""}}]}'
  recorded_at: Wed, 20 Aug 2025 17:03:48 GMT
recorded_with: VCR 6.3.1
