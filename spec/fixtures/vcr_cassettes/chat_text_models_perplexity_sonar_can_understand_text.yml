---
http_interactions:
- request:
    method: post
    uri: https://api.perplexity.ai/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"sonar","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Authorization:
      - Bearer <PERPLEXITY_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 03 Sep 2025 14:54:34 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - "<COOKIE>"
      Strict-Transport-Security:
      - max-age=15552000; includeSubDomains; preload
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id": "d011e80a-a711-4ca3-b5ff-e5595c40329a", "model": "sonar", "created":
        1756911273, "usage": {"prompt_tokens": 25, "completion_tokens": 119, "total_tokens":
        144, "search_context_size": "low", "cost": {"input_tokens_cost": 0.0, "output_tokens_cost":
        0.0, "request_cost": 0.005, "total_cost": 0.005}}, "citations": ["https://www.tutorialspoint.com/ruby/ruby_overview.htm",
        "https://www.ruby-forum.com/t/check-for-text-file/107211", "https://en.wikipedia.org/wiki/Ruby_(programming_language)",
        "https://www.rubyguides.com/2015/05/working-with-files-ruby/", "https://www.oracle.com/developer/what-is-ruby-for-developers/"],
        "search_results": [{"title": "Ruby - Overview", "url": "https://www.tutorialspoint.com/ruby/ruby_overview.htm",
        "date": "2019-03-01", "last_updated": "2025-09-03", "snippet": "Ruby is a
        true object-oriented programming language. Ruby is a server-side scripting
        language similar to Python and PERL. Ruby can be used to write Common ..."},
        {"title": "Check for text file - Ruby-Forum", "url": "https://www.ruby-forum.com/t/check-for-text-file/107211",
        "date": "2007-06-19", "last_updated": "2025-08-29", "snippet": "Hi guys, After
        some research I still cannot find a way how to see if a file is plain text
        or binary. In fact I want to check if a file is ..."}, {"title": "Ruby (programming
        language)", "url": "https://en.wikipedia.org/wiki/Ruby_(programming_language)",
        "date": "2001-10-17", "last_updated": "2025-09-03", "snippet": "Ruby is a
        general-purpose programming language. It was designed with an emphasis on
        programming productivity and simplicity. In Ruby, everything is an object,
        ..."}, {"title": "How To Read & Write Files in Ruby (With Examples) - RubyGuides",
        "url": "https://www.rubyguides.com/2015/05/working-with-files-ruby/", "date":
        "2023-07-02", "last_updated": "2025-09-03", "snippet": "In this article you''ll
        learn how to work with files in Ruby! Writing to files, reading files, printing
        the contents... Quick & easy tutorial :)"}, {"title": "What is Ruby?", "url":
        "https://www.oracle.com/developer/what-is-ruby-for-developers/", "date": "2024-06-10",
        "last_updated": "2025-06-15", "snippet": "Ruby is a highly popular programming
        language that''s used for lots of things, from web app development to data
        analysis. It''s also very user-friendly ..."}], "object": "chat.completion",
        "choices": [{"index": 0, "finish_reason": "stop", "message": {"role": "assistant",
        "content": "The file \"ruby.txt\" contains the simple text: **\"Ruby is the
        best.\"**\n\nThis is a straightforward statement expressing a positive opinion
        about Ruby, the programming language. It does not contain code or additional
        content.\n\nTo provide context: Ruby is a general-purpose, dynamic, and object-oriented
        programming language created by Yukihiro Matsumoto (\"Matz\") in the mid-1990s.
        It is known for its simplicity, productivity, and clean syntax, making it
        popular for web development (especially with Ruby on Rails) and many other
        programming tasks[1][3][5]."}, "delta": {"role": "assistant", "content": ""}}]}'
  recorded_at: Wed, 03 Sep 2025 14:54:34 GMT
- request:
    method: post
    uri: https://api.perplexity.ai/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"sonar","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]},{"role":"assistant","content":"The file \"ruby.txt\"
        contains the simple text: **\"Ruby is the best.\"**\n\nThis is a straightforward
        statement expressing a positive opinion about Ruby, the programming language.
        It does not contain code or additional content.\n\nTo provide context: Ruby
        is a general-purpose, dynamic, and object-oriented programming language created
        by Yukihiro Matsumoto (\"Matz\") in the mid-1990s. It is known for its simplicity,
        productivity, and clean syntax, making it popular for web development (especially
        with Ruby on Rails) and many other programming tasks[1][3][5]."},{"role":"user","content":[{"type":"text","text":"and
        in this one?"},{"type":"text","text":"<file name=''ruby.xml'' mime_type=''application/xml''><truism>Ruby
        is the best</truism></file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Authorization:
      - Bearer <PERPLEXITY_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 03 Sep 2025 14:54:42 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - "<COOKIE>"
      Strict-Transport-Security:
      - max-age=15552000; includeSubDomains; preload
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id": "c189ca3f-b3f5-4918-a704-3cc933a7d91e", "model": "sonar", "created":
        1756911282, "usage": {"prompt_tokens": 174, "completion_tokens": 207, "total_tokens":
        381, "search_context_size": "low", "cost": {"input_tokens_cost": 0.0, "output_tokens_cost":
        0.0, "request_cost": 0.005, "total_cost": 0.005}}, "citations": ["https://www.oracle.com/technical-resources/articles/srivastava-structures.html",
        "https://www.w3.org/TR/xml/", "https://www.liquid-technologies.com/xml-schema-tutorial/xsd-elements-attributes",
        "https://www.oreilly.com/library/view/xml-schema/0596002521/re58.html", "https://learn.microsoft.com/en-us/windows/deployment/usmt/usmt-xml-elements-library"],
        "search_results": [{"title": "XML Schema: Understanding Structures", "url":
        "https://www.oracle.com/technical-resources/articles/srivastava-structures.html",
        "date": null, "last_updated": "2025-08-28", "snippet": "In this article, I
        will explain the schema constructs used to declare, extend, and restrict the
        structure of XML."}, {"title": "Extensible Markup Language (XML) 1.0 (Fifth
        Edition)", "url": "https://www.w3.org/TR/xml/", "date": "2008-11-26", "last_updated":
        "2025-09-03", "snippet": "[Definition: There is exactly one element, called
        the root, or document element, no part of which appears in the content of
        any other element.] ..."}, {"title": "XML Schema Tutorial - Defining Elements
        and Attributes", "url": "https://www.liquid-technologies.com/xml-schema-tutorial/xsd-elements-attributes",
        "date": "2000-01-12", "last_updated": "2025-04-10", "snippet": "Elements are
        the main building block of all XML documents, containing the data and determine
        the structure of the instance document. An element can be defined ..."}, {"title":
        "xs:boolean \u2014 Boolean (true or false). - XML Schema [Book]", "url": "https://www.oreilly.com/library/view/xml-schema/0596002521/re58.html",
        "date": "2014-04-23", "last_updated": "2025-09-02", "snippet": "The value
        space of xs:boolean is \u201ctrue\u201d and \u201cfalse,\u201d and its lexical
        space accepts true, false, and also \u201c1\u201d (for true) and \u201c0\u201d
        (for false)."}, {"title": "XML Elements Library", "url": "https://learn.microsoft.com/en-us/windows/deployment/usmt/usmt-xml-elements-library",
        "date": "2025-01-29", "last_updated": "2025-08-07", "snippet": "This article
        describes the XML elements and helper functions that can be employed to author
        migration .xml files to use with User State Migration Tool (USMT)."}], "object":
        "chat.completion", "choices": [{"index": 0, "finish_reason": "stop", "message":
        {"role": "assistant", "content": "The file \"ruby.xml\" contains an XML document
        with a single element named `<truism>`, whose content is the text \"Ruby is
        the best\".\n\nIn XML terms, this document consists of a root element `<truism>`
        enclosing simple text content. This is an example of a **TextOnly content
        model** element, where the element contains only character data and no child
        elements or attributes[1][3].\n\nSpecifically, the content is:\n\n```xml\n<truism>Ruby
        is the best</truism>\n```\n\nThis structure is valid XML as it has exactly
        one root element with text inside it, complying with XML syntax rules about
        elements and content[2]. The element is a container for the phrase expressing
        a positive opinion about Ruby, similar to the plain text file but wrapped
        in XML tags for structure.\n\nNo attributes or nested elements are present
        in this XML file, so its data is straightforward textual data inside a named
        tag, which could be interpreted, processed, or validated by XML parsers or
        schema tools[3]."}, "delta": {"role": "assistant", "content": ""}}]}'
  recorded_at: Wed, 03 Sep 2025 14:54:42 GMT
recorded_with: VCR 6.3.1
