---
http_interactions:
- request:
    method: post
    uri: https://api.perplexity.ai/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"sonar","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]}],"stream":false,"temperature":0.7}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Authorization:
      - Bearer <PERPLEXITY_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Fri, 01 Aug 2025 10:50:05 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - "<COOKIE>"
      Strict-Transport-Security:
      - max-age=15552000; includeSubDomains; preload
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id": "1afca036-8e8f-4643-8666-6151b1d01089", "model": "sonar", "created":
        1754045405, "usage": {"prompt_tokens": 25, "completion_tokens": 119, "total_tokens":
        144, "search_context_size": "low", "cost": {"input_tokens_cost": 2.5e-05,
        "output_tokens_cost": 0.000119, "request_cost": 0.005, "total_cost": 0.005144}},
        "citations": ["https://www.tutorialspoint.com/ruby/ruby_overview.htm", "https://www.rubyguides.com/2015/05/working-with-files-ruby/",
        "https://en.wikipedia.org/wiki/Ruby_(programming_language)", "https://github.com/mime-types/ruby-mime-types",
        "https://www.geeksforgeeks.org/ruby/ruby-programming-language-introduction/"],
        "search_results": [{"title": "Ruby Overview", "url": "https://www.tutorialspoint.com/ruby/ruby_overview.htm",
        "date": "2025-03-25", "last_updated": "2025-04-13"}, {"title": "How To Read
        & Write Files in Ruby (With Examples) - RubyGuides", "url": "https://www.rubyguides.com/2015/05/working-with-files-ruby/",
        "date": null, "last_updated": "2025-07-30"}, {"title": "Ruby (programming
        language)", "url": "https://en.wikipedia.org/wiki/Ruby_(programming_language)",
        "date": "2001-10-17", "last_updated": "2025-07-13"}, {"title": "Ruby MIME
        type registry library - GitHub", "url": "https://github.com/mime-types/ruby-mime-types",
        "date": "2019-11-03", "last_updated": "2025-06-03"}, {"title": "Ruby Programming
        Language (Introduction)", "url": "https://www.geeksforgeeks.org/ruby/ruby-programming-language-introduction/",
        "date": "2019-09-25", "last_updated": "2025-07-24"}], "object": "chat.completion",
        "choices": [{"index": 0, "finish_reason": "stop", "message": {"role": "assistant",
        "content": "The file named \"ruby.txt\" contains the simple text: **\"Ruby
        is the best.\"** This is a short sentence expressing a positive opinion about
        Ruby, presumably the Ruby programming language.\n\nFor context, Ruby is a
        **pure object-oriented, general-purpose programming language** created by
        Yukihiro Matsumoto in 1993. It is known for its clean and easy syntax, similar
        to languages like Perl, Python, and Smalltalk. Ruby is interpreted, dynamically
        typed, and supports multiple programming paradigms including procedural, object-oriented,
        and functional programming[1][3][5]."}, "delta": {"role": "assistant", "content":
        ""}}]}'
  recorded_at: Fri, 01 Aug 2025 10:50:05 GMT
- request:
    method: post
    uri: https://api.perplexity.ai/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"sonar","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]},{"role":"assistant","content":"The file named \"ruby.txt\"
        contains the simple text: **\"Ruby is the best.\"** This is a short sentence
        expressing a positive opinion about Ruby, presumably the Ruby programming
        language.\n\nFor context, Ruby is a **pure object-oriented, general-purpose
        programming language** created by Yukihiro Matsumoto in 1993. It is known
        for its clean and easy syntax, similar to languages like Perl, Python, and
        Smalltalk. Ruby is interpreted, dynamically typed, and supports multiple programming
        paradigms including procedural, object-oriented, and functional programming[1][3][5]."},{"role":"user","content":[{"type":"text","text":"and
        in this one?"},{"type":"text","text":"<file name=''ruby.xml'' mime_type=''application/xml''><truism>Ruby
        is the best</truism></file>"}]}],"stream":false,"temperature":0.7}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Authorization:
      - Bearer <PERPLEXITY_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Fri, 01 Aug 2025 10:50:09 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - "<COOKIE>"
      Strict-Transport-Security:
      - max-age=15552000; includeSubDomains; preload
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id": "fc967832-84d8-4ead-a82c-32b87a0770f2", "model": "sonar", "created":
        1754045409, "usage": {"prompt_tokens": 174, "completion_tokens": 212, "total_tokens":
        386, "search_context_size": "low", "cost": {"input_tokens_cost": 0.000174,
        "output_tokens_cost": 0.000212, "request_cost": 0.005, "total_cost": 0.005386}},
        "citations": ["https://www.liquid-technologies.com/xml-schema-tutorial/xsd-elements-attributes",
        "https://www.w3.org/TR/xmlschema-2/", "https://learn.microsoft.com/en-us/previous-versions/dotnet/netframework-4.0/ms256118(v=vs.100)",
        "https://geckwiki.com/index.php?title=Tutorial%3A_Understanding_XML", "https://cs.gmu.edu/~aabduraz/classes/642/Resources/XML-types.html"],
        "search_results": [{"title": "XML Schema Tutorial - Defining Elements and
        Attributes", "url": "https://www.liquid-technologies.com/xml-schema-tutorial/xsd-elements-attributes",
        "date": "2000-01-12", "last_updated": "2025-04-10"}, {"title": "XML Schema
        Part 2: Datatypes Second Edition", "url": "https://www.w3.org/TR/xmlschema-2/",
        "date": "2004-10-28", "last_updated": "2025-06-16"}, {"title": "<xsd:element>
        Element", "url": "https://learn.microsoft.com/en-us/previous-versions/dotnet/netframework-4.0/ms256118(v=vs.100)",
        "date": "2011-02-21", "last_updated": "2025-07-21"}, {"title": "Tutorial:
        Understanding XML", "url": "https://geckwiki.com/index.php?title=Tutorial%3A_Understanding_XML",
        "date": "2025-06-12", "last_updated": "2025-07-13"}, {"title": "Defining XML
        Elements and Their Types in XML Schema", "url": "https://cs.gmu.edu/~aabduraz/classes/642/Resources/XML-types.html",
        "date": null, "last_updated": "2025-07-31"}], "object": "chat.completion",
        "choices": [{"index": 0, "finish_reason": "stop", "message": {"role": "assistant",
        "content": "The file named \"ruby.xml\" contains an XML document with a single
        element `<truism>` whose content is the text **\"Ruby is the best\"**. In
        XML structure, this means that the phrase is enclosed within the `<truism>`
        tag, indicating that \"Ruby is the best\" is the value or content of the `truism`
        element.\n\nXML (eXtensible Markup Language) documents use elements defined
        by tags (like `<truism>`) to structure data hierarchically, with elements
        containing text or other elements[1][4]. The element `<truism>` here is a
        simple element containing string data.\n\nSo, the content of the file is essentially
        the same text as in your previous file, but now wrapped inside an XML tag
        named `truism`:\n\n```xml\n<truism>Ruby is the best</truism>\n```\n\nThis
        format allows the data to be machine-readable and structured, which can be
        validated or parsed by XML tools according to XML schema definitions if available[1][2][3]."},
        "delta": {"role": "assistant", "content": ""}}]}'
  recorded_at: Fri, 01 Aug 2025 10:50:09 GMT
recorded_with: VCR 6.3.1
