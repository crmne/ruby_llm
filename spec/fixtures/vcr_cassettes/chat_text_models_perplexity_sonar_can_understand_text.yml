---
http_interactions:
- request:
    method: post
    uri: https://api.perplexity.ai/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"sonar","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Authorization:
      - Bearer <PERPLEXITY_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 24 Sep 2025 14:40:20 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - "<COOKIE>"
      Strict-Transport-Security:
      - max-age=15552000; includeSubDomains; preload
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id": "e9fca28d-8311-420e-9afd-e2c2c2d1795e", "model": "sonar", "created":
        1758724820, "usage": {"prompt_tokens": 25, "completion_tokens": 133, "total_tokens":
        158, "search_context_size": "low", "cost": {"input_tokens_cost": 0.0, "output_tokens_cost":
        0.0, "request_cost": 0.005, "total_cost": 0.005}}, "citations": ["https://www.tutorialspoint.com/ruby/ruby_overview.htm",
        "https://www.rubydoc.info/gems/mime-types/3.1/MIME/Types", "https://en.wikipedia.org/wiki/Ruby_(programming_language)",
        "http://mikker.github.io/2013/10/30/get-the-true-mime-type-of-a-file-in-ruby.html",
        "https://www.oracle.com/developer/what-is-ruby-for-developers/", "https://github.com/rails/marcel",
        "https://www.geeksforgeeks.org/ruby/ruby-programming-language/", "https://www.ruby-forum.com/t/getting-a-files-mime-type/102129",
        "https://www.ruby-lang.org/en/", "https://github.com/mime-types/ruby-mime-types"],
        "search_results": [{"title": "Ruby - Overview - Tutorials Point", "url": "https://www.tutorialspoint.com/ruby/ruby_overview.htm",
        "date": "2019-03-01", "last_updated": "2025-09-23", "snippet": "Ruby is a
        true object-oriented programming language. Ruby is a server-side scripting
        language similar to Python and PERL. Ruby can be used to write Common ..."},
        {"title": "Class: MIME::Types - RubyDoc.info", "url": "https://www.rubydoc.info/gems/mime-types/3.1/MIME/Types",
        "date": "2024-11-01", "last_updated": "2025-09-17", "snippet": "MIME::Types
        is a registry of MIME types. It is both a class (created with MIME::Types.new)
        and a default registry (loaded automatically or through interactions)"}, {"title":
        "Ruby (programming language) - Wikipedia", "url": "https://en.wikipedia.org/wiki/Ruby_(programming_language)",
        "date": "2001-10-17", "last_updated": "2025-09-19", "snippet": "Ruby is a
        general-purpose programming language. It was designed with an emphasis on
        programming productivity and simplicity. In Ruby, everything is an object,
        ..."}, {"title": "Get the true mime type of a file in Ruby", "url": "http://mikker.github.io/2013/10/30/get-the-true-mime-type-of-a-file-in-ruby.html",
        "date": "2013-10-30", "last_updated": "2025-01-04", "snippet": "You can get
        the true mime type by using the shell command file. true_mime_type = `file
        --mime -b mp4-renamed-to.mp3`.chomp # => video/mp4; charset=binary"}, {"title":
        "What is Ruby? - Oracle", "url": "https://www.oracle.com/developer/what-is-ruby-for-developers/",
        "date": "2024-06-10", "last_updated": "2025-09-24", "snippet": "Ruby is a
        highly popular programming language that''s used for lots of things, from
        web app development to data analysis. It''s also very user-friendly ..."},
        {"title": "rails/marcel: Find the mime type of files, examining file, filename
        and ...", "url": "https://github.com/rails/marcel", "date": "2017-02-22",
        "last_updated": "2025-09-20", "snippet": "Marcel chooses the most appropriate
        content type for a file by inspecting its contents, the declared MIME type
        (perhaps passed as a Content-Type header), and ..."}, {"title": "Ruby Programming
        Language - GeeksforGeeks", "url": "https://www.geeksforgeeks.org/ruby/ruby-programming-language/",
        "date": "2025-09-04", "last_updated": "2025-09-24", "snippet": "Ruby is a
        popular backend programming language, widely used for building modern applications
        and services. It makes development faster, easier, ..."}, {"title": "Getting
        a files mime-type - Ruby-Forum", "url": "https://www.ruby-forum.com/t/getting-a-files-mime-type/102129",
        "date": "2006-08-11", "last_updated": "2025-09-21", "snippet": "Hi, Can anyone
        tell me if there is a simple way to get the mime-type of a file? (I''ve seen
        the Mime::Type library, but haven''t figured out ..."}, {"title": "Ruby Programming
        Language", "url": "https://www.ruby-lang.org/en/", "date": "2025-09-18", "last_updated":
        "2025-09-24", "snippet": "A dynamic, open source programming language with
        a focus on simplicity and productivity. It has an elegant syntax that is natural
        to read and easy to write."}, {"title": "Ruby MIME type registry library -
        GitHub", "url": "https://github.com/mime-types/ruby-mime-types", "date": "2008-11-23",
        "last_updated": "2025-08-28", "snippet": "The mime-types library provides
        a library and registry for information about MIME content type definitions.
        It can be used to determine defined filename ..."}], "object": "chat.completion",
        "choices": [{"index": 0, "finish_reason": "stop", "message": {"role": "assistant",
        "content": "The file named \"ruby.txt\" contains the simple text: **\"Ruby
        is the best.\"**\n\nThis is a plain text statement expressing a positive opinion
        about Ruby, a programming language. It does not contain any code or technical
        details but simply states that Ruby is the best[content of the file]. \n\nFor
        context, Ruby is a widely used, general-purpose, interpreted programming language
        created by Yukihiro Matsumoto in the mid-1990s. It is known for its clean
        syntax, full object-orientation, and is extensively used for web development
        (especially with Ruby on Rails), automation, data processing, and more[1][3][5]."},
        "delta": {"role": "assistant", "content": ""}}]}'
  recorded_at: Wed, 24 Sep 2025 14:40:20 GMT
- request:
    method: post
    uri: https://api.perplexity.ai/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"sonar","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]},{"role":"assistant","content":"The file named \"ruby.txt\"
        contains the simple text: **\"Ruby is the best.\"**\n\nThis is a plain text
        statement expressing a positive opinion about Ruby, a programming language.
        It does not contain any code or technical details but simply states that Ruby
        is the best[content of the file]. \n\nFor context, Ruby is a widely used,
        general-purpose, interpreted programming language created by Yukihiro Matsumoto
        in the mid-1990s. It is known for its clean syntax, full object-orientation,
        and is extensively used for web development (especially with Ruby on Rails),
        automation, data processing, and more[1][3][5]."},{"role":"user","content":[{"type":"text","text":"and
        in this one?"},{"type":"text","text":"<file name=''ruby.xml'' mime_type=''application/xml''><truism>Ruby
        is the best</truism></file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Authorization:
      - Bearer <PERPLEXITY_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 24 Sep 2025 14:40:25 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - "<COOKIE>"
      Strict-Transport-Security:
      - max-age=15552000; includeSubDomains; preload
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id": "6519038b-082b-4143-bfec-55d409df5a01", "model": "sonar", "created":
        1758724825, "usage": {"prompt_tokens": 188, "completion_tokens": 152, "total_tokens":
        340, "search_context_size": "low", "cost": {"input_tokens_cost": 0.0, "output_tokens_cost":
        0.0, "request_cost": 0.005, "total_cost": 0.005}}, "citations": ["https://www.w3.org/TR/xmlschema-1/",
        "https://www.oracle.com/technical-resources/articles/srivastava-structures.html",
        "https://www.liquid-technologies.com/xml-schema-tutorial/xsd-elements-attributes",
        "https://www.oreilly.com/library/view/xml-schema/0596002521/re58.html", "https://learn.microsoft.com/en-us/windows/deployment/usmt/usmt-xml-elements-library",
        "https://help.1e.com/SDK/en/instruction-definition-xml-elements.html", "http://www.w3schools.com/Xml/el_element.asp",
        "https://help.nintex.com/en-US/k2blackpearl/userguide/4.6.10/XML_Data_Types.html",
        "https://www.oxygenxml.com/doc/versions/27.1/ug-developer/topics/xml-schema-diagram-element-properties.html"],
        "search_results": [{"title": "XML Schema Part 1: Structures Second Edition
        - W3C", "url": "https://www.w3.org/TR/xmlschema-1/", "date": "2004-10-28",
        "last_updated": "2025-09-23", "snippet": "An element declaration is an association
        of a name with a type definition, either simple or complex, an (optional)
        default value and a (possibly ..."}, {"title": "XML Schema: Understanding
        Structures - Oracle", "url": "https://www.oracle.com/technical-resources/articles/srivastava-structures.html",
        "date": "2019-03-04", "last_updated": "2025-09-23", "snippet": "In this article,
        I will explain the schema constructs used to declare, extend, and restrict
        the structure of XML."}, {"title": "XML Schema Tutorial - Defining Elements
        and Attributes", "url": "https://www.liquid-technologies.com/xml-schema-tutorial/xsd-elements-attributes",
        "date": "2000-01-12", "last_updated": "2025-04-10", "snippet": "Elements are
        the main building block of all XML documents, containing the data and determine
        the structure of the instance document. An element can be defined ..."}, {"title":
        "XML Schema - xs:boolean - O''Reilly Media", "url": "https://www.oreilly.com/library/view/xml-schema/0596002521/re58.html",
        "date": "2014-04-23", "last_updated": "2025-09-23", "snippet": "The value
        space of xs:boolean is \u201ctrue\u201d and \u201cfalse,\u201d and its lexical
        space accepts true, false, and also \u201c1\u201d (for true) and \u201c0\u201d
        (for false)."}, {"title": "XML Elements Library | Microsoft Learn", "url":
        "https://learn.microsoft.com/en-us/windows/deployment/usmt/usmt-xml-elements-library",
        "date": "2025-01-29", "last_updated": "2025-08-07", "snippet": "This article
        describes the XML elements and helper functions that can be employed to author
        migration .xml files to use with User State Migration Tool (USMT)."}, {"title":
        "Instruction Definition XML elements - 1E Documentation", "url": "https://help.1e.com/SDK/en/instruction-definition-xml-elements.html",
        "date": "2022-09-20", "last_updated": "2025-08-31", "snippet": "This is the
        root element - aside from the XML declaration element - of the document. This
        element represents an individual Instruction Definition, and must ..."}, {"title":
        "XML Schema element Element - W3Schools", "url": "http://www.w3schools.com/Xml/el_element.asp",
        "date": "2025-08-29", "last_updated": "2025-09-23", "snippet": "True enables
        an instance of the element to have the null attribute set to true. The null
        attribute is defined as part of the XML Schema namespace for instances."},
        {"title": "XML Data Types - Nintex Help", "url": "https://help.nintex.com/en-US/k2blackpearl/userguide/4.6.10/XML_Data_Types.html",
        "date": "2005-09-20", "last_updated": "2025-09-18", "snippet": "The ability
        to define complex data types in XML is one of its most powerful features.
        A complex type element declaration is used to describe data collections ..."},
        {"title": "xs:element - Oxygen XML Editor", "url": "https://www.oxygenxml.com/doc/versions/27.1/ug-developer/topics/xml-schema-diagram-element-properties.html",
        "date": "2025-01-01", "last_updated": "2025-09-17", "snippet": "Defines an
        element. An element declaration is an association of a name with a type definition,
        either simple or complex, an (optional) default value."}], "object": "chat.completion",
        "choices": [{"index": 0, "finish_reason": "stop", "message": {"role": "assistant",
        "content": "The file named \"ruby.xml\" contains an XML structure with a single
        element `<truism>` that encloses the text **\"Ruby is the best\"**. Specifically,
        the content is:\n\n```xml\n<truism>Ruby is the best</truism>\n```\n\nThis
        means the XML document holds one element called \"truism,\" whose content
        is plain text stating \"Ruby is the best.\" The element has no attributes
        or child elements, only character data inside it, which is considered *TextOnly*
        content per XML terminology[2][3].\n\nIn short: the file presents the same
        phrase as the previous text file but wrapped in an XML element named `<truism>`,
        which identifies the text as a statement or belief encoded in XML format."},
        "delta": {"role": "assistant", "content": ""}}]}'
  recorded_at: Wed, 24 Sep 2025 14:40:25 GMT
recorded_with: VCR 6.3.1
