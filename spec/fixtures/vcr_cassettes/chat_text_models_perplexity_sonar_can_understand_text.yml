---
http_interactions:
- request:
    method: post
    uri: https://api.perplexity.ai/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"sonar","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Authorization:
      - Bearer <PERPLEXITY_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 21 Sep 2025 14:36:08 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - "<COOKIE>"
      Strict-Transport-Security:
      - max-age=15552000; includeSubDomains; preload
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id": "0682542c-a522-4b24-9e77-7cdab4446b6d", "model": "sonar", "created":
        1758465368, "usage": {"prompt_tokens": 25, "completion_tokens": 112, "total_tokens":
        137, "search_context_size": "low", "cost": {"input_tokens_cost": 0.0, "output_tokens_cost":
        0.0, "request_cost": 0.005, "total_cost": 0.005}}, "citations": ["https://www.tutorialspoint.com/ruby/ruby_overview.htm",
        "https://www.rubydoc.info/gems/mime-types/3.1/MIME/Types", "https://en.wikipedia.org/wiki/Ruby_(programming_language)",
        "http://mikker.github.io/2013/10/30/get-the-true-mime-type-of-a-file-in-ruby.html",
        "https://www.oracle.com/developer/what-is-ruby-for-developers/", "https://github.com/rails/marcel",
        "https://www.geeksforgeeks.org/ruby/ruby-programming-language/", "https://www.ruby-forum.com/t/getting-a-files-mime-type/102129",
        "https://www.ruby-lang.org/en/", "https://github.com/mime-types/ruby-mime-types"],
        "search_results": [{"title": "Ruby - Overview - Tutorials Point", "url": "https://www.tutorialspoint.com/ruby/ruby_overview.htm",
        "date": "2019-03-01", "last_updated": "2025-09-15", "snippet": "Ruby is a
        true object-oriented programming language. Ruby is a server-side scripting
        language similar to Python and PERL. Ruby can be used to write Common ..."},
        {"title": "Class: MIME::Types - RubyDoc.info", "url": "https://www.rubydoc.info/gems/mime-types/3.1/MIME/Types",
        "date": "2024-11-01", "last_updated": "2025-09-17", "snippet": "MIME::Types
        is a registry of MIME types. It is both a class (created with MIME::Types.new)
        and a default registry (loaded automatically or through interactions)"}, {"title":
        "Ruby (programming language) - Wikipedia", "url": "https://en.wikipedia.org/wiki/Ruby_(programming_language)",
        "date": "2001-10-17", "last_updated": "2025-09-19", "snippet": "Ruby is a
        general-purpose programming language. It was designed with an emphasis on
        programming productivity and simplicity. In Ruby, everything is an object,
        ..."}, {"title": "Get the true mime type of a file in Ruby", "url": "http://mikker.github.io/2013/10/30/get-the-true-mime-type-of-a-file-in-ruby.html",
        "date": "2013-10-30", "last_updated": "2025-01-04", "snippet": "You can get
        the true mime type by using the shell command file. true_mime_type = `file
        --mime -b mp4-renamed-to.mp3`.chomp # => video/mp4; charset=binary"}, {"title":
        "What is Ruby? - Oracle", "url": "https://www.oracle.com/developer/what-is-ruby-for-developers/",
        "date": "2024-06-10", "last_updated": "2025-09-20", "snippet": "Ruby is a
        highly popular programming language that''s used for lots of things, from
        web app development to data analysis. It''s also very user-friendly ..."},
        {"title": "rails/marcel: Find the mime type of files, examining file, filename
        and ...", "url": "https://github.com/rails/marcel", "date": "2017-02-22",
        "last_updated": "2025-09-20", "snippet": "Marcel chooses the most appropriate
        content type for a file by inspecting its contents, the declared MIME type
        (perhaps passed as a Content-Type header), and ..."}, {"title": "Ruby Programming
        Language - GeeksforGeeks", "url": "https://www.geeksforgeeks.org/ruby/ruby-programming-language/",
        "date": "2025-09-04", "last_updated": "2025-09-21", "snippet": "Ruby is a
        popular backend programming language, widely used for building modern applications
        and services. It makes development faster, easier, ..."}, {"title": "Getting
        a files mime-type - Ruby-Forum", "url": "https://www.ruby-forum.com/t/getting-a-files-mime-type/102129",
        "date": "2006-08-11", "last_updated": "2025-03-10", "snippet": "Hi, Can anyone
        tell me if there is a simple way to get the mime-type of a file? (I''ve seen
        the Mime::Type library, but haven''t figured out ..."}, {"title": "Ruby Programming
        Language", "url": "https://www.ruby-lang.org/en/", "date": "2025-09-18", "last_updated":
        "2025-09-19", "snippet": "A dynamic, open source programming language with
        a focus on simplicity and productivity. It has an elegant syntax that is natural
        to read and easy to write."}, {"title": "Ruby MIME type registry library -
        GitHub", "url": "https://github.com/mime-types/ruby-mime-types", "date": "2008-11-23",
        "last_updated": "2025-08-28", "snippet": "The mime-types library provides
        a library and registry for information about MIME content type definitions.
        It can be used to determine defined filename ..."}], "object": "chat.completion",
        "choices": [{"index": 0, "finish_reason": "stop", "message": {"role": "assistant",
        "content": "The file named \"ruby.txt\" contains the text: **\"Ruby is the
        best.\"** This is a simple plain text statement expressing that Ruby (likely
        referring to the Ruby programming language) is considered very good or superior.\n\nFor
        context, **Ruby** is a well-known general-purpose, object-oriented programming
        language created by Yukihiro Matsumoto in the mid-1990s. It emphasizes productivity
        and simplicity, has a clean and easy-to-learn syntax, and is popular for web
        development, automation, and more[1][3][5]."}, "delta": {"role": "assistant",
        "content": ""}}]}'
  recorded_at: Sun, 21 Sep 2025 14:36:08 GMT
- request:
    method: post
    uri: https://api.perplexity.ai/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"sonar","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]},{"role":"assistant","content":"The file named \"ruby.txt\"
        contains the text: **\"Ruby is the best.\"** This is a simple plain text statement
        expressing that Ruby (likely referring to the Ruby programming language) is
        considered very good or superior.\n\nFor context, **Ruby** is a well-known
        general-purpose, object-oriented programming language created by Yukihiro
        Matsumoto in the mid-1990s. It emphasizes productivity and simplicity, has
        a clean and easy-to-learn syntax, and is popular for web development, automation,
        and more[1][3][5]."},{"role":"user","content":[{"type":"text","text":"and
        in this one?"},{"type":"text","text":"<file name=''ruby.xml'' mime_type=''application/xml''><truism>Ruby
        is the best</truism></file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Authorization:
      - Bearer <PERPLEXITY_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 21 Sep 2025 14:36:11 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - "<COOKIE>"
      Strict-Transport-Security:
      - max-age=15552000; includeSubDomains; preload
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id": "0213c5ae-c586-4e21-adbb-4d3f16eac009", "model": "sonar", "created":
        1758465371, "usage": {"prompt_tokens": 167, "completion_tokens": 202, "total_tokens":
        369, "search_context_size": "low", "cost": {"input_tokens_cost": 0.0, "output_tokens_cost":
        0.0, "request_cost": 0.005, "total_cost": 0.005}}, "citations": ["http://www.vijaymukhi.com/documents/books/xsd/chap3.htm",
        "https://www.oracle.com/technical-resources/articles/srivastava-structures.html",
        "https://www.liquid-technologies.com/xml-schema-tutorial/xsd-elements-attributes",
        "https://learn.microsoft.com/en-us/windows/deployment/usmt/usmt-xml-elements-library",
        "https://docs.oracle.com/cd/B14099_19/integrate.1012/b14069/xsd.htm", "https://help.nintex.com/en-US/k2blackpearl/userguide/4.6.10/XML_Data_Types.html",
        "http://www.w3schools.com/Xml/el_element.asp", "https://docs.informatica.com/data-integration/powercenter/10-5/xml-guide/xml-concepts/simple-and-complex-xml-types/complex-types/abstract-elements.html",
        "https://www.oxygenxml.com/doc/versions/27.1/ug-developer/topics/xml-schema-diagram-element-properties.html"],
        "search_results": [{"title": "XML Schema Definition - 3. Attributes", "url":
        "http://www.vijaymukhi.com/documents/books/xsd/chap3.htm", "date": null, "last_updated":
        "2023-11-30", "snippet": "Unlike an element, an attribute may or may not occur.
        But when the attributes are present, they rule the existence of the element.
        For instance, an element can ..."}, {"title": "XML Schema: Understanding Structures
        - Oracle", "url": "https://www.oracle.com/technical-resources/articles/srivastava-structures.html",
        "date": "2019-03-04", "last_updated": "2025-09-19", "snippet": "In this article,
        I will explain the schema constructs used to declare, extend, and restrict
        the structure of XML."}, {"title": "XML Schema Tutorial - Defining Elements
        and Attributes", "url": "https://www.liquid-technologies.com/xml-schema-tutorial/xsd-elements-attributes",
        "date": "2000-01-12", "last_updated": "2025-04-10", "snippet": "Elements are
        the main building block of all XML documents, containing the data and determine
        the structure of the instance document. An element can be defined ..."}, {"title":
        "XML Elements Library | Microsoft Learn", "url": "https://learn.microsoft.com/en-us/windows/deployment/usmt/usmt-xml-elements-library",
        "date": "2025-01-29", "last_updated": "2025-08-07", "snippet": "This article
        describes the XML elements and helper functions that can be employed to author
        migration .xml files to use with User State Migration Tool (USMT)."}, {"title":
        "10 XML Schema Definition", "url": "https://docs.oracle.com/cd/B14099_19/integrate.1012/b14069/xsd.htm",
        "date": null, "last_updated": "2025-09-16", "snippet": "An XSD defines the
        structure of an XML document. It specifies the elements and attributes that
        can appear in an XML document and the type of data these elements ..."}, {"title":
        "XML Data Types - Nintex Help", "url": "https://help.nintex.com/en-US/k2blackpearl/userguide/4.6.10/XML_Data_Types.html",
        "date": "2005-09-20", "last_updated": "2025-09-18", "snippet": "The ability
        to define complex data types in XML is one of its most powerful features.
        A complex type element declaration is used to describe data collections ..."},
        {"title": "XML Schema element Element - W3Schools", "url": "http://www.w3schools.com/Xml/el_element.asp",
        "date": "2025-08-29", "last_updated": "2025-09-15", "snippet": "True enables
        an instance of the element to have the null attribute set to true. The null
        attribute is defined as part of the XML Schema namespace for instances."},
        {"title": "Abstract Elements - XML Guide - Informatica Documentation", "url":
        "https://docs.informatica.com/data-integration/powercenter/10-5/xml-guide/xml-concepts/simple-and-complex-xml-types/complex-types/abstract-elements.html",
        "date": "2021-03-20", "last_updated": "2025-09-09", "snippet": "To define
        an abstract element, add an abstract attribute with the value \u201ctrue.\u201d
        The default is false. For example, PublicationType is an abstract element."},
        {"title": "xs:element - Oxygen XML Editor", "url": "https://www.oxygenxml.com/doc/versions/27.1/ug-developer/topics/xml-schema-diagram-element-properties.html",
        "date": "2025-01-01", "last_updated": "2025-09-17", "snippet": "Defines an
        element. An element declaration is an association of a name with a type definition,
        either simple or complex, an (optional) default value."}], "object": "chat.completion",
        "choices": [{"index": 0, "finish_reason": "stop", "message": {"role": "assistant",
        "content": "The file named \"ruby.xml\" contains the XML-formatted text: \n\n```xml\n<truism>Ruby
        is the best</truism>\n```\n\nThis means that the XML document has a root element
        named `<truism>`, and its content is the text string **\"Ruby is the best\"**.
        The XML structure here is very simple, with the element directly wrapping
        the text. According to XML standards, elements like `<truism>` are used to
        mark or categorize the enclosed text[2][3][5].\n\nSo, while the content in
        the XML file is the same phrase as in the plain text file (\"Ruby is the best\"),
        here it is structured as an XML element, which could be part of a larger XML
        document or used for data interchange where the tag `<truism>` semantically
        indicates the nature of the text inside.\n\nIn summary, this XML file''s content
        is the phrase **\"Ruby is the best\"** wrapped inside the `<truism>` XML element."},
        "delta": {"role": "assistant", "content": ""}}]}'
  recorded_at: Sun, 21 Sep 2025 14:36:11 GMT
recorded_with: VCR 6.3.1
