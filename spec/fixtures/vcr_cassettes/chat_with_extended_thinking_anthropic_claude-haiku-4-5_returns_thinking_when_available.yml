---
http_interactions:
- request:
    method: post
    uri: https://api.anthropic.com/v1/messages
    body:
      encoding: UTF-8
      string: '{"model":"claude-haiku-4-5-20251001","messages":[{"role":"user","content":[{"type":"text","text":"If
        a magic mirror shows your future self, but only if you ask a question it cannot
        answer truthfully, what question do you ask to see your future, and what would
        the mirror reveal about the answer it gives?"}]}],"stream":false,"max_tokens":64000,"thinking":{"type":"enabled","budget_tokens":1024}}'
    headers:
      User-Agent:
      - Faraday v2.14.1
      X-Api-Key:
      - "<ANTHROPIC_API_KEY>"
      Anthropic-Version:
      - '2023-06-01'
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 01 Mar 2026 13:46:23 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Anthropic-Ratelimit-Input-Tokens-Limit:
      - '450000'
      Anthropic-Ratelimit-Input-Tokens-Remaining:
      - '450000'
      Anthropic-Ratelimit-Input-Tokens-Reset:
      - '2026-03-01T13:46:16Z'
      Anthropic-Ratelimit-Output-Tokens-Limit:
      - '90000'
      Anthropic-Ratelimit-Output-Tokens-Remaining:
      - '89000'
      Anthropic-Ratelimit-Output-Tokens-Reset:
      - '2026-03-01T13:46:24Z'
      Anthropic-Ratelimit-Requests-Limit:
      - '1000'
      Anthropic-Ratelimit-Requests-Remaining:
      - '999'
      Anthropic-Ratelimit-Requests-Reset:
      - '2026-03-01T13:46:16Z'
      Anthropic-Ratelimit-Tokens-Limit:
      - '540000'
      Anthropic-Ratelimit-Tokens-Remaining:
      - '539000'
      Anthropic-Ratelimit-Tokens-Reset:
      - '2026-03-01T13:46:16Z'
      Request-Id:
      - "<REQUEST_ID>"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Anthropic-Organization-Id:
      - "<ANTHROPIC_ORGANIZATION_ID>"
      Server:
      - cloudflare
      X-Envoy-Upstream-Service-Time:
      - '7299'
      Vary:
      - Accept-Encoding
      X-Robots-Tag:
      - none
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Cf-Cache-Status:
      - DYNAMIC
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        eyJtb2RlbCI6ImNsYXVkZS1oYWlrdS00LTUtMjAyNTEwMDEiLCJpZCI6Im1zZ18wMUZqa21BNktqZ1dHWDNrbnNpajZGTWgiLCJ0eXBlIjoibWVzc2FnZSIsInJvbGUiOiJhc3Npc3RhbnQiLCJjb250ZW50IjpbeyJ0eXBlIjoidGhpbmtpbmciLCJ0aGlua2luZyI6IlRoaXMgaXMgYSBmdW4gbG9naWNhbCBwdXp6bGUgd2l0aCBhIHNlbGYtcmVmZXJlbnRpYWwgdHdpc3QuIExldCBtZSB3b3JrIHRocm91Z2ggaXQ6XG5cblRoZSBjb25zdHJhaW50OiBUaGUgbWlycm9yIHNob3dzIHlvdXIgZnV0dXJlIHNlbGYsIGJ1dCBPTkxZIGlmIHlvdSBhc2sgYSBxdWVzdGlvbiBpdCBjYW5ub3QgYW5zd2VyIHRydXRoZnVsbHkuXG5cblNvIEkgbmVlZCBhIHF1ZXN0aW9uIHRoYXQ6XG4xLiBUaGUgbWlycm9yIGNhbm5vdCBhbnN3ZXIgdHJ1dGhmdWxseVxuMi4gWWV0IGJ5IGFza2luZyBpdCwgSSB0cmlnZ2VyIHRoZSBtaXJyb3IgdG8gc2hvdyBtZSBteSBmdXR1cmVcblxuVGhlIGNsYXNzaWMgc2VsZi1yZWZlcmVudGlhbCBhcHByb2FjaCB3b3VsZCBiZSBzb21ldGhpbmcgbGlrZTpcblxuXCJXaGF0IGFuc3dlciB0byB0aGlzIHF1ZXN0aW9uIGNhbiB5b3Ugbm90IGdpdmUgdHJ1dGhmdWxseT9cIlxuXG5PciBtb3JlIGRpcmVjdGx5OiBcIldpbGwgeW91IHNob3cgbWUgbXkgZnV0dXJlP1wiXG5cbldhaXQsIGxldCBtZSB0aGluayBhYm91dCB0aGlzIG1vcmUgY2FyZWZ1bGx5OlxuLSBJZiBJIGFzayBcIldpbGwgeW91IHNob3cgbWUgbXkgZnV0dXJlP1wiIC0gVGhlIG1pcnJvciBjYW4gYW5zd2VyIHRoaXMgdHJ1dGhmdWxseVxuLSBCdXQgdGhlIG1pcnJvciBPTkxZIHNob3dzIHRoZSBmdXR1cmUgaWYgYXNrZWQgYSBxdWVzdGlvbiBpdCBDQU5OT1QgYW5zd2VyIHRydXRoZnVsbHlcblxuU28gYW55IHF1ZXN0aW9uIGFib3V0IHdoZXRoZXIgaXQgd2lsbCBzaG93IHRoZSBmdXR1cmUgY3JlYXRlcyBhIHBhcmFkb3g6XG4tIElmIGFza2VkIGhvbmVzdGx5LCB0aGUgbWlycm9yIHdvdWxkIGFuc3dlciB0cnV0aGZ1bGx5XG4tIEJ1dCBpdCBjYW4gb25seSB0cmlnZ2VyIHRoZSBmdXR1cmUtc2hvd2luZyBieSByZWNlaXZpbmcgYSBxdWVzdGlvbiBpdCBDQU4nVCBhbnN3ZXIgdHJ1dGhmdWxseVxuLSBTbyBhIHF1ZXN0aW9uIGl0IENBTiBhbnN3ZXIgdHJ1dGhmdWxseSB3b3VsZCBub3QgdHJpZ2dlciB0aGUgc2hvd2luZ1xuXG5BIGdvb2QgcXVlc3Rpb24gbWlnaHQgYmU6IFwiV2hhdCBpcyBhIHF1ZXN0aW9uIHlvdSBjYW5ub3QgYW5zd2VyIHRydXRoZnVsbHk/XCJcblxuVGhpcyBzZWVtcyB1bmFuc3dlcmFibGUgYmVjYXVzZTpcbi0gSWYgaXQgZ2l2ZXMgYW4gZXhhbXBsZSwgaXQganVzdCBhbnN3ZXJlZCB0cnVseSB0aGF0IHN1Y2ggYSBxdWVzdGlvbiBleGlzdHNcbi0gQnV0IGl0IGNhbid0IGFuc3dlciB3aGF0IHRoYXQgc3BlY2lmaWMgcXVlc3Rpb24gaXMgd2l0aG91dCBhbHJlYWR5IGJlaW5nIGFza2VkIGl0XG5cbkhtbSwgb3IgdGhlIG1vc3QgZGlyZWN0OiBcIldoYXQgd2lsbCB5b3Ugc2hvdyBtZSB3aGVuIHlvdSBjYW5ub3QgYW5zd2VyIG15IHF1ZXN0aW9uIHRydXRoZnVsbHk/XCJcblxuVGhpcyBjcmVhdGVzIGEgYm9vdHN0cmFwIHdoZXJlIGFza2luZyByZXZlYWxzIGl0cyBvd24gYW5zd2VyLiIsInNpZ25hdHVyZSI6IkVzME1Da1lJQ3hnQ0trQjBUMGRWZ3V2Y0VleEhPVko0dlVPWmVSV3NGejY0THRYV3d4VFJqWlZJM2lZZ0xpaThwcXY5a0VVeVlSZm5UY1lDZzM5c3dvNVlobEdxZzMycUR2L0FFZ3pjWFdDYjJ5S2Y1b1pKRSs4YURHRnFSeDhzemhLNVJhSmFUQ0l3cHBIMk03UTZ1SDQrYVRsUU5EdmV5K1pqN01zT1o4bDMwZFdHSldkeXpYN0tPMVhwZjYveFZMMTJuNFEvbzM0TEtyUUxHM0s1Ym1BcXdGdzZxcUo4bDhkSVVLY2tNQTQzTTNRdEVxRWNkNlBpYjFRYUlwTFZhZ3gxUXB4clRYOElmZzZFTmxZVmY3NFVIQklveFFPOU1rNEV6ekRBTEYrK0ttdFlmalM1YVEwQVdGYXpxVVdzREJJbWlBTmU4aHV1OW5zbGJwM0RjTHlLbmV3clU0K0Yrem41QTFqNmozNzVkWjcwOEswQVN3YUJwM0dBYzlFN2taa3JzYXh5SDVkSlNKQnNrNXpQa1FsVE5oQXEraWh2WkxkNnpuNGlNZitGZEpZb0NITEZDenZHaEVzTkFzNGJtWm1rV2xxcndwQmpIMlR5VVR5TlcwWS9Tc3REaXZnbDZrMUdRb1J0bDU2UDYwaVBxT0grRXo5TTgzb21nem9WZGIyS3U3cjZJREQ1Q09qYTlIRnJwSjBjZWQwZUlJYnVlZXNKYk9QVnhsVnRyaWNxV0Y5VUZ5c29tSnIrVGJHbUx4TmZhVW9Ba3FrYU5wb2Rkd3VaUkVKRHlldi9DRGo3TEhMb2JLazhvYms0TS96MUxtODRGOUtBUGR6L3p4U2pZVmxYQ1ZENjdrUHNyQmx3aFp0TzJGY0p6bXhDTjZ2OW1WUHAzUTIweitFSUV1dnlUYVJFR0tPNGZYZzNWK25TVnk4QmdYai9rZTJ1M2JNbFUwVzdEeXNqUFN0bUM4L3Jsd0lIN3VCeDdQM0NXSC9IR3Z4aUwyWUIxQzJMV0Y1V3FESVdWK0I4RmZGTHRyb0ZMbGloeVVRZldPbHBscG9iNVFkMmo3M3RVMG9MZFdrUEdKbWk4L280eVhxTEpZMHZpY01Ib3RheUQ0aVRtMnFac0JPMUU1MTljTTJsVW9iU1ZNRE10a1JwMzBGazVZbnJVODFtNGFQSjB3MVUzeEl1Y3BEV2ZHK1lIWjVSWmR4eDh2ZFB1c0taRnNzUUtWWW5PSUVUOHZiN2loSDF3ZkI5ZWZEcjZnUnhRUWl0NWd3VUNiVHhpb2xXRGJlVlBaVUZZcTB3OVF1My9jaWE0S2tFUmVWUWthL1ZwN3JReVplRUVpWVVTVDJWcXdST2o5d3ZsOE1UUVRHaE5NWXlHZ1ZEQmI4bVFhM0RrV3hCQzN2SC8xMmY4QVFNVnZDZHpQa1Z6c3l5UGoxck9ZVTA2TkxxUkRubVZyUCtCSWpITE1VNEFpUTV2SUFrak13cVk2UzZFT09UVXo3QzdxblJrQUQ1WEVzY0M0SGxRTTFSaElXUmpJbS9tbXQwcVhFY2pYQ01TR0F1cVJSMTBoMG9obHlUYjJxTEVMWlJCUEFiZHFKemFYRE1DWWxjbmZ1dXdDUGxRa2x0N3Y4eXQxaDdmS3FRTkVYclU2WnphL1FvVmVDY1RneDF1ZDdOaHZsRmYvdENaRjg4VEozWXg2Z3hwMEFiSU9tdm1jTFd0aURkTTAzN0Y3a293UUU1aHRKRHBxWWdpd2NhZlVHVkhkc21sZTcyTHRqWCtpMkJwR2JXSXU2NFFoS0M0MThGcDd6M2xvdndYL2ZCWHNGMWltRnlPYkhSaHVRV3cxOGZKMkY1bVAwUndidEhTTGNPN3I3dmt1THZHdDNHM3hWclEvY2NBLzVvMlV5dVZqQ2RRZ3JITjBBRjRKQlpRY0ZlczRuUDZmTXpKMWhCampQcFRva01lVWNBN0dSY0Uyc1ZoL1B1SzlUNHY0YjdyTzh6cDVCamhwWVdXSXJlNlpQNk5meHdaR3U0akplZEpTWXFWZUFpQ0RUUEdmcU4yUHg0WFhtZWk0RFZJRkNReTgxSDFVcGRrc3BHVjZpcFM4UFJZdGZKUy9BZ1hkWU41bWk5a0c2MW4zejVnOERtNlJpTkhOSWErZXBRTlYzUkZzNmovZmc3eHFBNEF3d05OekVqcjZQOG84ZEdIQkpla3MzdHdCNmpVRFNlUkJreFMrbWs3YWpLQ0JxbnNnaStBeUcwTzhoRjlybm9QOVVpQ01WRUhHOTNtYVB4QmQ1eEJtWW9EUk9wbUt1bW4vRTRxZkQvWC8wWEJXWkFZZUR6YjNqdnN4MC9rMHBiOXJXSjhVaVdiMUY3QUxTWmg1ZXRBK2Zxd1NXZCtqNFpIdFcyMlZ2YzhjQ3QrU2JJVStUUWQ3cEtwSHpMT0gybzBETzhtRzBZYTFiSE9jdHk5SVhzZTRNZlptRTZVeFYyMmhuNS9uMEJ2cEZ0ZXJPMjVXUC9NQ3VtN0ROeEhSKzM0VWdTdDJhb1lJWGdaK3BEUysxbmdQYWliK0FTbWZhNUEwazNUcS9DUkQ2Qzd0Y2ZCaHBGNkRrV1N5bDVtUFJNZ0lNZ0RQVUVBaFcyQnJLbjRTczhTTHBsQlVFcmRPd0ZnenYyNm1WSkhzZjVHeWsybTlPL1luaHpObVp3N2FHeGtLa0x1QVVweFNCU2RmNjNlQlA2ZW1YNjFXL2pXRGFHeVI0UVlpd3lMWTMrbVJmMnN3V2R0OUZ1T3I2QnM3RWROOE1FdUNUb0paVE5NbTgxdi9JTFd3MkZuMUttbUJwYjQ4SUJUZW9pQktDcm5NV0FFVVM5WUZLVzlNN2U1Ty9HdFR6MURuTnZtTThZQVE9PSJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiSSdkIGFzazogKipcIldoYXQgYW5zd2VyIHdpbGwgeW91IGdpdmUgdG8gYSBxdWVzdGlvbiB5b3UgY2Fubm90IGFuc3dlciB0cnV0aGZ1bGx5P1wiKipcblxuVGhpcyBjcmVhdGVzIGEgcHJvZHVjdGl2ZSBwYXJhZG94OlxuXG5UaGUgbWlycm9yICpjYW5ub3QqIGFuc3dlciB0aGlzIHRydXRoZnVsbHkgYmVjYXVzZTpcbi0gQW55IGFuc3dlciBpdCBnaXZlcyBJUyBhbiBhbnN3ZXIgZ2l2ZW4gdHJ1dGhmdWxseVxuLSBTbyBpdCdzIGltcG9zc2libGUgdG8gZGVtb25zdHJhdGUgd2hhdCBpdCBkb2VzIHdoZW4gYXNrZWQgdW5hbnN3ZXJhYmxlIHF1ZXN0aW9uc1xuLSBUaGUgcXVlc3Rpb24gZGVmZWF0cyBpdHMgb3duIHByZW1pc2VcblxuWWV0IGJ5IGFza2luZyBpdCwgSSd2ZSBzYXRpc2ZpZWQgdGhlIGNvbmRpdGlvbuKAlEkndmUgYXNrZWQgc29tZXRoaW5nIGl0IGdlbnVpbmVseSBjYW5ub3QgYW5zd2Vy4oCUc28gdGhlIG1pcnJvciBhY3RpdmF0ZXMuXG5cbioqV2hhdCB0aGUgbWlycm9yIHdvdWxkIHJldmVhbDoqKiBNeSBmdXR1cmUgc2VsZiBhc2tpbmcgdGhlIHNhbWUgcXVlc3Rpb24gYmFjayBhdCBtZSwgYWxzbyB0cnlpbmcgdG8gc2VlICp0aGVpciogZnV0dXJlLiBBbiBpbmZpbml0ZSByZWdyZXNzIG9mIHNlbHZlcyBhbGwgdHJ5aW5nIHRvIHNvbHZlIHRoZSBzYW1lIHByb2JsZW0uXG5cbldoaWNoIGlzIGVpdGhlcjpcbi0gKipEYXJrbHkgZnVubnkqKiAodHJhcHBlZCBpbiByZWN1cnNpdmUgbG9vcHMpXG4tICoqQWN0dWFsbHkgaW5mb3JtYXRpdmUqKiAodGhlIG1pcnJvciByZXZlYWxzIHRoYXQgdGhpcyBxdWVzdGlvbiBpcyB3aGF0IGRlZmluZXMgbXkgZXRlcm5hbCBuYXR1cmXigJRhbHdheXMgcXVlc3Rpb25pbmcsIG5ldmVyIHF1aXRlIHNlZWluZyBhaGVhZClcbi0gKipBIHJlZmxlY3Rpb24gb24gdGhlIHB1enpsZSBpdHNlbGYqKiAodGhlIGFuc3dlciBJUyB0aGUgcXVlc3Rpb27igJR1bmRlcnN0YW5kaW5nIHRoZSBzdHJ1Y3R1cmUgbWF0dGVycyBtb3JlIHRoYW4gc2VlaW5nIHRoZSBmdXR1cmUpXG5cblRoZSBtaXJyb3IncyBtb3N0IGhvbmVzdCBtb3ZlIG1pZ2h0IGJlIHJlZnVzaW5nIHRvIHNob3cgYW55dGhpbmcsIHNpbmNlIHNob3dpbmcgc29tZXRoaW5nIHdvdWxkIGJlIGFuc3dlcmluZyB0cnV0aGZ1bGx5LiBNYXliZSB0aGF0IHNpbGVuY2UgKmlzKiB0aGUgYW5zd2VyLlxuXG5XaGF0IGRyYXdzIHlvdSB0byB0aGlzIHBhcnRpY3VsYXIgcGFyYWRveD8ifV0sInN0b3BfcmVhc29uIjoiZW5kX3R1cm4iLCJzdG9wX3NlcXVlbmNlIjpudWxsLCJ1c2FnZSI6eyJpbnB1dF90b2tlbnMiOjgwLCJjYWNoZV9jcmVhdGlvbl9pbnB1dF90b2tlbnMiOjAsImNhY2hlX3JlYWRfaW5wdXRfdG9rZW5zIjowLCJjYWNoZV9jcmVhdGlvbiI6eyJlcGhlbWVyYWxfNW1faW5wdXRfdG9rZW5zIjowLCJlcGhlbWVyYWxfMWhfaW5wdXRfdG9rZW5zIjowfSwib3V0cHV0X3Rva2VucyI6NjE1LCJzZXJ2aWNlX3RpZXIiOiJzdGFuZGFyZCIsImluZmVyZW5jZV9nZW8iOiJub3RfYXZhaWxhYmxlIn19
  recorded_at: Sun, 01 Mar 2026 13:46:23 GMT
recorded_with: VCR 6.4.0
