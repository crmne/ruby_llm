---
http_interactions:
- request:
    method: post
    uri: https://api.anthropic.com/v1/messages
    body:
      encoding: UTF-8
      string: '{"model":"claude-haiku-4-5","messages":[{"role":"user","content":[{"type":"text","text":"If
        a magic mirror shows your future self, but only if you ask a question it cannot
        answer truthfully, what question do you ask to see your future, and what would
        the mirror reveal about the answer it gives?"}]}],"stream":false,"max_tokens":64000,"thinking":{"type":"enabled","budget_tokens":1024}}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      X-Api-Key:
      - "<ANTHROPIC_API_KEY>"
      Anthropic-Version:
      - '2023-06-01'
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 12 Jan 2026 21:34:08 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Anthropic-Ratelimit-Input-Tokens-Limit:
      - '450000'
      Anthropic-Ratelimit-Input-Tokens-Remaining:
      - '450000'
      Anthropic-Ratelimit-Input-Tokens-Reset:
      - '2026-01-12T21:34:02Z'
      Anthropic-Ratelimit-Output-Tokens-Limit:
      - '90000'
      Anthropic-Ratelimit-Output-Tokens-Remaining:
      - '89000'
      Anthropic-Ratelimit-Output-Tokens-Reset:
      - '2026-01-12T21:34:08Z'
      Anthropic-Ratelimit-Requests-Limit:
      - '1000'
      Anthropic-Ratelimit-Requests-Remaining:
      - '999'
      Anthropic-Ratelimit-Requests-Reset:
      - '2026-01-12T21:34:01Z'
      Anthropic-Ratelimit-Tokens-Limit:
      - '540000'
      Anthropic-Ratelimit-Tokens-Remaining:
      - '539000'
      Anthropic-Ratelimit-Tokens-Reset:
      - '2026-01-12T21:34:02Z'
      Request-Id:
      - "<REQUEST_ID>"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Anthropic-Organization-Id:
      - "<ANTHROPIC_ORGANIZATION_ID>"
      Server:
      - cloudflare
      X-Envoy-Upstream-Service-Time:
      - '6132'
      Cf-Cache-Status:
      - DYNAMIC
      X-Robots-Tag:
      - none
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        eyJtb2RlbCI6ImNsYXVkZS1oYWlrdS00LTUtMjAyNTEwMDEiLCJpZCI6Im1zZ18wMTJqSktrWlo0UXpXSERQb1JqTXlYQkYiLCJ0eXBlIjoibWVzc2FnZSIsInJvbGUiOiJhc3Npc3RhbnQiLCJjb250ZW50IjpbeyJ0eXBlIjoidGhpbmtpbmciLCJ0aGlua2luZyI6IlRoaXMgaXMgYSBjbGV2ZXIgbG9naWMgcHV6emxlIHdpdGggc29tZSBpbnRlcmVzdGluZyBzZWxmLXJlZmVyZW50aWFsIGVsZW1lbnRzLiBMZXQgbWUgdGhpbmsgdGhyb3VnaCBpdC5cblxuVGhlIG1pcnJvciBzaG93cyB5b3VyIGZ1dHVyZSBpZiB5b3UgYXNrIGEgcXVlc3Rpb24gaXQgY2Fubm90IGFuc3dlciB0cnV0aGZ1bGx5LiBTbyBJIG5lZWQgYSBxdWVzdGlvbiB0aGF0OlxuMS4gQ2Fubm90IGJlIGFuc3dlcmVkIHRydXRoZnVsbHlcbjIuIFdvdWxkIGJlIGludGVyZXN0aW5nIHRvIHRoaW5rIGFib3V0IHdoYXQgdGhlIG1pcnJvciByZXZlYWxzXG5cbkEgY2xhc3NpYyBzZWxmLXJlZmVyZW50aWFsIHF1ZXN0aW9uIHdvdWxkIGJlIHNvbWV0aGluZyBsaWtlOlxuLSBcIldoYXQgYW5zd2VyIHdpbGwgeW91IGdpdmUgdG8gdGhpcyBxdWVzdGlvbj9cIlxuLSBcIldpbGwgeW91IHJlZnVzZSB0byBhbnN3ZXIgdGhpcyBxdWVzdGlvbiB0cnV0aGZ1bGx5P1wiXG4tIFwiV2hhdCBpcyBhbiBhbnN3ZXIgeW91IGNhbm5vdCBnaXZlIHRydXRoZnVsbHkgdG8gdGhpcyBxdWVzdGlvbj9cIlxuXG5MZXQgbWUgdGhpbmsgYWJvdXQgdGhlIG1vc3QgZWxlZ2FudCB2ZXJzaW9uOlxuXG5cIldoYXQgaXMgYW4gYW5zd2VyIHlvdSB3b3VsZCBnaXZlIHRvIHRoaXMgcXVlc3Rpb24gdGhhdCBpcyBmYWxzZT9cIlxuXG5PciB0aGUgcGFyYWRveGljYWwgdmVyc2lvbjpcblwiV2lsbCB5b3UgYW5zd2VyICdubycgdG8gdGhpcyBxdWVzdGlvbj9cIlxuXG5JZiB0aGUgbWlycm9yIHNheXMgXCJub1wiIC0gdGhlbiB5ZXMgaXQgd2lsbCwgY3JlYXRpbmcgYSBjb250cmFkaWN0aW9uLlxuSWYgdGhlIG1pcnJvciBzYXlzIFwieWVzXCIgLSB0aGVuIG5vIGl0IHdvbid0LCBhbm90aGVyIGNvbnRyYWRpY3Rpb24uXG5cblRoZSBzZWNvbmQgb25lIGlzIGEgdmFyaWFudCBvZiB0aGUgbGlhcidzIHBhcmFkb3guXG5cbldoYXQgd291bGQgYmUgaW50ZXJlc3RpbmcgdG8gcmV2ZWFsPyBJIHRoaW5rIHRoZSBwdXp6bGUgaXMgYXNraW5nIG1lIHRvIHRoaW5rIGFib3V0IHdoYXQgaGFwcGVucyB3aGVuIGFuIG9yYWNsZS90cnV0aC10ZWxsZXIgZW5jb3VudGVycyBhbiB1bmFuc3dlcmFibGUgcXVlc3Rpb24uIFxuXG5MZXQgbWUgb2ZmZXIgYSB0aG91Z2h0ZnVsIGFuc3dlciB0aGF0IGVuZ2FnZXMgd2l0aCB0aGUgcGFyYWRveCBpdHNlbGYuIiwic2lnbmF0dXJlIjoiRXFnS0NrWUlDeGdDS2tDUEIxRGUvN1Nnd3NBR1cwZlErNDZrYTBWYURSZWt6d0ovUEtVem9VMzRpK3dSakZOR2RqRmQ3NkpVZzQxdlV0VGV3NkdzVHh0STBkcXVwaGtkMC9ZM0VneWx1ODl0cllmWHNBRHUraWdhRENsTXp6MFMwRm05U1dwMW1TSXdOTCtRcHlyWlZSZWZSOHluY1BSNEFSQy9HaDNqMWluc2dtbnhRbit5NUx4VmN5NnZMUVM3UHhCc2htd3NDQ0xTS284SnFGWlIyUlpyOEJSdkI1TnlNWjB2OUxZb0lEcjN2YzZGTGRYTTlrRkphL1VvWUNuNmplbkZ4V0J4NlVSdVFuYWxONjh4cWFsWW5WTGZla1JpMG9DSXorQ3pLYzdQVEJkQlQ1bkJMYzBqcVYyV1RIRW9CQUpxanlwb2FpWllsSU1mR01OWUoxdkRvK3VXMGp5dTFzUW01ZHdUQU1wUXQwWlJiby9qSmIwZWNvK2JUTkNVazdrV2tGUlZyc1Y4QVZwU0xTS21lN0h2SFhhaHFiYStpK3JHbHFYREJNQ1J3NU8vUkdmeWVJQ2o4dkcxekZZVlpxRkYrWlBpdW16YTNUZnZGbTZ0aWpYMVdHWXZESjJRcUxVcGt6SllsQ3BIaGNxZkxsSy81d3FyVEhCWnl4SE1OY1REY3Y4bXp2YTU0SG5EZkM5UHQrSmpBM3FEM01ZRDJWR1lJZ0JlVWxWcWx2RWxZUGR5V1ZUdTkxUnNVV041TEt3ankyMFQ3VE1wQktLY1NsMTZ3V2xJWk05aW0wMXZDcWdFTnRhR01OU2puaHp6QXFVVlpzU0hsSnhBdWRWSTJQRWVmVW1VYUlxTzJMdm1yTjM1RkQ1bDh1Q3BlVjNtLyszaVNXWTByM1RmV0FkeDhud2w3WjBSdmpxYXViQ2VLT0ROaHR6dm1TOHBySDBiTCtTbWJzSVRIbFNwMGVYYmRWN29pNnYvZjVxc01HUXZEa2JtTlhnTDNSdFdRTFg5TXBMVkpjMjllREwrNG1yazdZMzYwRWZJQ0Z1ZU1tKzJueDlEUmMweEpuSXNGSHRtaWlFK3hWV2xSaUhjSTBpbnV1OHNUbUZwdkk5QWlHTjFCUFdIbVN2aEZ3aGw3Skl0WmRqNXJ5S1F1S2F0T2ZqaXoyN2lBUXBORFgzRFJ1VnZRN2dTOWFFZlB5ckQ1YnpoQVRGVDNtZ1IxSFR5MTFseTZsWlFyMmN5N0YwMHcyN2MrSlZ1SGtITTNxSzh5RHRjamUwRVF6YkVxSC83NnNvT0N4WG5ScXcxNG1CK0FWbXJUYWhocWlVeU9GLy8yZGc4cThpdXMwbkVSRitoczFaNEdYMzZrbHdNb09jVERSUzlzQ3pxUzlQZjZCNXFRd2tzREtGQi9LVlVRSG1FcFNUT1o5ZkZ4M2U2UnFtSmVjQTFDbGNIZnNCSVl2dFZVWE44L0lraWtSRlRzeDcvUmExdWZMWFhuVG1rL3hsWDgvVWZJcXlxbGpZTHp2MjRSME1EZzcwQStHeE0xelhkQjBPVlJTZzk1YmhrQ1R2aFlyVStvazJ4bjRXemtFV3M2bStCMWVpQWoybFpueHRuSVlzelROcG1DS1pKTVFiZTZIaEVlQnMyajA5dXQvNnlxS2g0RHlaZDVUTHQ5Z0RhWDlxVDhNVERiRld4UGZpODFzbEhVbXZRTlZpaHhPZ2tJcXRPdklJMlZud1ZBQnVCdXM3a2hhTHlHN2ZkZHhENWJCeWpnL0RWcGZTZ2I3WUFMY2F6SG4vcVBKamJDMlB5dHZQSG5iN2R3bFZMWERMVE5TSTZIbFNRNHVxbFRSVUc2cTF5dXBtQ29YdjEyMTdqZjRtaXdPZmdJdENkdldrUCtnemNNR3pPSm9zN0J6MUVaR0xpWGtuZk16b2hhQnhDd2gwaGlmMmZsdk9JL3dCOVJzV1h3YTZJZStJZTI4OXRUZ0xLMXYydmY2RlYxakZxZmJpQUNQQUNhOTJiVDJKSk85Q3JGSDdYelpnWXVZeWx5NTNrZUM2MFdOSVRxTGN3bGh2T01RZk5KR3VpMG5RcERWVUtmMUhyOGJrRlNxblR6SkZQck04UGx5NStPb1hoaWpQb0R1Mk5oVHhDZHNlbEpzSzkwaVlYZXpWdGV6Q3lESlR4dlpDLzhUODl6bGI5M0dUZmF0aGkyRGUwd3hkMkdjTkRRbmtVdXVFcUVVcnozdWFrVXdMcU9QbmZsUTE4WGFsUE5qTVdVeWZvYWhKYTlXN1ROV2g0M3ZSQjBNOXpQWklKMEJiVHdUMlIzYVdZYVkxWW1ybW1TRlZDS2hzYVdXbWtHNWlZR0FFPSJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiSSdkIGFzazogKipcIldoYXQgaXMgYW4gYW5zd2VyIHlvdSBjYW5ub3QgZ2l2ZSB0cnV0aGZ1bGx5IHRvIHRoaXMgcXVlc3Rpb24/XCIqKlxuXG5UaGUgcGFyYWRveCBpcyBlbGVnYW50OiBcbi0gSWYgdGhlIG1pcnJvciBhbnN3ZXJzIHRydXRoZnVsbHksIGl0J3MgZGVzY3JpYmluZyBhbiBhbnN3ZXIgaXQgKmNhbid0KiBnaXZlIHRydXRoZnVsbHnigJR3aGljaCBtZWFucyBpdCBqdXN0IGdhdmUgb25lIChjb250cmFkaWN0aW9uKVxuLSBJZiBpdCByZWZ1c2VzIG9yIGdpdmVzIGEgZmFsc2UgYW5zd2VyLCBpdCB0cmlnZ2VycyB0aGUgY29uZGl0aW9uOiBpdCBjb3VsZG4ndCBhbnN3ZXIgdHJ1dGhmdWxseVxuXG4qKldoYXQgdGhlIG1pcnJvciByZXZlYWxzOioqIFRoaXMgaXMgdGhlIGludGVyZXN0aW5nIHBhcnQuIEl0IHByb2JhYmx5IHNob3dzIHlvdSBub3QgeW91ciBmdXR1cmUgc2VsZiwgYnV0IHJhdGhlciAqKnlvdXJzZWxmIGluIHRoZSBtb21lbnQgb2YgcmVhbGl6aW5nIHRoZSB0cmFwKirigJRjYXVnaHQgYmV0d2VlbiB0aGUgZGVtYW5kIGZvciB0cnV0aCBhbmQgdGhlIGxvZ2ljYWwgaW1wb3NzaWJpbGl0eSBvZiBtZWV0aW5nIGl0LlxuXG5UaGUgcmVhbCBhbnN3ZXIgbWlnaHQgYmUgdGhhdCBtaXJyb3JzIHNob3dpbmcgZnV0dXJlcyB0cmlnZ2VyZWQgYnkgbG9naWNhbCBpbXBvc3NpYmlsaXRpZXMgZG9uJ3QgcmV2ZWFsICp0aW1lKiBkaWZmZXJlbnRseeKAlHRoZXkgcmV2ZWFsICoqY2hhcmFjdGVyIHVuZGVyIHBhcmFkb3gqKi4gRG9lcyB5b3VyIGZ1dHVyZSBzZWxmOlxuLSBBY2NlcHQgdGhlIGNvbnRyYWRpY3Rpb24gZ3JhY2VmdWxseT9cbi0gRGlzc29sdmUgaW50byB0cnlpbmcgdG8gZXNjYXBlIGl0P1xuLSBMYXVnaCBhdCB0aGUgc2V0dXA/XG5cblRoZSBtaXJyb3IgY2FuJ3Qgc2hvdyB5b3UgYSBmdXR1cmUgd2hlcmUgdGhpcyBxdWVzdGlvbiBoYXMgYSBjb25zaXN0ZW50IGFuc3dlciwgc28gbWF5YmUgaXQgc2hvd3MgaW5zdGVhZCB0aGUgZnV0dXJlIHdoZXJlIHlvdSBzdG9wIG5lZWRpbmcgbWlycm9ycyB0byBrbm93IHlvdXJzZWxm4oCUdGhlIG9uZSB3aGVyZSB5b3UncmUgY29tZm9ydGFibGUgd2l0aCB1bnNvbHZhYmxlIHRoaW5ncy5cblxuV2hhdCBkcmF3cyB5b3UgdG8gdGhpcyBwdXp6bGU/IEFyZSB5b3UgbW9yZSBpbnRlcmVzdGVkIGluIHRoZSBsb2dpYywgb3IgaW4gd2hhdCBpdCBzdWdnZXN0cyBhYm91dCBxdWVzdGlvbnMgd29ydGggYXNraW5nPyJ9XSwic3RvcF9yZWFzb24iOiJlbmRfdHVybiIsInN0b3Bfc2VxdWVuY2UiOm51bGwsInVzYWdlIjp7ImlucHV0X3Rva2VucyI6ODAsImNhY2hlX2NyZWF0aW9uX2lucHV0X3Rva2VucyI6MCwiY2FjaGVfcmVhZF9pbnB1dF90b2tlbnMiOjAsImNhY2hlX2NyZWF0aW9uIjp7ImVwaGVtZXJhbF81bV9pbnB1dF90b2tlbnMiOjAsImVwaGVtZXJhbF8xaF9pbnB1dF90b2tlbnMiOjB9LCJvdXRwdXRfdG9rZW5zIjo1NTIsInNlcnZpY2VfdGllciI6InN0YW5kYXJkIn19
  recorded_at: Mon, 12 Jan 2026 21:34:08 GMT
recorded_with: VCR 6.4.0
